{
  "sha": "fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
  "node_id": "C_kwDOP2Zrm9oAKGZjMGQ1OTc4MzRlYzljZjY1ZjY3ZTgyNmU5YjllZDE0YjMwNWZkY2Q",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-16T10:38:19Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-16T10:38:19Z"
    },
    "message": "improve readme",
    "tree": {
      "sha": "fd662ccb3f43882caf6c6ceb5e04eb0a1660515d",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/fd662ccb3f43882caf6c6ceb5e04eb0a1660515d"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "ca2d62da52398a8f19ae6f2abb8eeaebe9bb1d4f",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/ca2d62da52398a8f19ae6f2abb8eeaebe9bb1d4f",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/ca2d62da52398a8f19ae6f2abb8eeaebe9bb1d4f"
    }
  ],
  "stats": {
    "total": 130,
    "additions": 114,
    "deletions": 16
  },
  "files": [
    {
      "sha": "7d2469f63379e7cc380993f5d0867c124d730e04",
      "filename": "README.md",
      "status": "modified",
      "additions": 57,
      "deletions": 8,
      "changes": 65,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd/README.md",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd/README.md",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/README.md?ref=fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
      "patch": "@@ -35,11 +35,18 @@ You can add friends and view their timelines alongside your own. This feature is\n \n ---\n \n-## The Voices\n+## Default Voice Decks\n \n-Ink & Memory features 16 distinct voices, organized into three decks. Each voice has its own unique personality and perspective.\n+Ink & Memory ships with three carefully crafted decks containing 16 voices to get you started. These are designed to offer different perspectives on your writing\u2014but they're just the beginning.\n \n-### The Introspection Deck\n+**You're not limited to these voices.** The deck system lets you:\n+- \ud83d\udd00 **Fork** any deck to create your own customized version\n+- \u270f\ufe0f **Edit** voice personalities, prompts, icons, and colors\n+- \u2795 **Create** entirely new voices from scratch\n+- \ud83c\udf10 **Explore** the community store for decks made by other users\n+- \ud83d\udce4 **Publish** your own decks to share with the community\n+\n+### The Introspection Deck (Default)\n This deck is focused on self-reflection and personal growth.\n \n | Icon | Name | Description |\n@@ -75,13 +82,55 @@ This deck examines your writing through the lens of different philosophical scho\n \n ---\n \n-## Technical Deep Dive\n+### Creating Your Own Voices\n+\n+Each voice is defined by:\n+- **A system prompt** that shapes its personality and perspective\n+- **An icon** for visual identification\n+- **A color** that tints its highlights in your text\n+\n+When you fork a deck, you get full control over all these elements. Want a voice that channels your favorite philosopher? A critic that focuses on narrative structure? A cheerleader for your creative projects? Build it yourself or find it in the community store.\n+\n+---\n+\n+## How the Voices Work\n+\n+As you write, Ink & Memory analyzes your text using a **trace-based energy system**. Here's what happens behind the scenes:\n+\n+1. **Energy Accumulates** \u2014 As you type, the system builds up \"energy\" based on your writing.\n+2. **Threshold Triggers** \u2014 When enough energy accumulates, the AI analyzes your recent text.\n+3. **Voices Respond** \u2014 Enabled voices scan for phrases that resonate with their personality.\n+4. **Comments Appear** \u2014 Relevant voices highlight phrases and offer their perspective in the margin.\n \n-Ink & Memory is built on a modern, robust technology stack:\n+This creates an organic, non-intrusive experience where comments appear naturally as you write, rather than constantly interrupting you.\n \n-*   **Frontend:** A beautiful and responsive interface built with **React** and **TypeScript**. We use **Vite** for a fast and efficient development experience, and the **TipTap** editor for a smooth and customizable writing surface. A custom **EditorEngine** manages the editor state and communicates with the backend.\n-*   **Backend:** A powerful and scalable API built with **FastAPI** and **Python**. We use the **PolyCLI** library to orchestrate calls to Large Language Models (LLMs), constructing detailed prompts to generate high-quality, context-aware comments from the different AI personas. A **Stateless Analyzer** is at the core of the \"voices\" feature.\n-*   **Database:** A reliable and efficient **SQLite** database stores all your data, including users, sessions, preferences, decks, voices, and friends.\n+---\n+\n+## Technical Architecture\n+\n+Ink & Memory is built on a modern stack designed for real-time AI interaction:\n+\n+### Frontend\n+- **React 19 + TypeScript** \u2014 Type-safe, component-based UI.\n+- **Vite** \u2014 Fast dev server and builds.\n+- **TipTap** \u2014 Extensible rich text editing with custom extensions for voice highlights.\n+- **Custom EditorEngine** \u2014 Manages editor state, comments, and chat widgets.\n+\n+### Backend\n+- **FastAPI + Python** \u2014 High-performance async API server.\n+- **PolyCLI** \u2014 Orchestrates LLM calls with structured prompts and retry logic.\n+- **Stateless Analyzer** \u2014 Core voice analysis engine that keeps context without server-side state.\n+- **SQLite + WAL** \u2014 Reliable storage with concurrent read support.\n+\n+### AI Integration\n+- **Multi-model support** \u2014 Works with GPT-4, Claude, DeepSeek, and Gemini.\n+- **Structured outputs** \u2014 Pydantic models ensure type-safe LLM responses.\n+- **Daily image generation** \u2014 Automatic visual summaries of your writing.\n+\n+### Key Design Decisions\n+- **Deck-based architecture** \u2014 Voices are organized into forkable, shareable decks.\n+- **Parent-child relationships** \u2014 Forked decks can sync updates from their source.\n+- **Community store** \u2014 Published decks are discoverable and installable by other users.\n \n ---\n "
    },
    {
      "sha": "1adcf3a09c5e24585bbf1a440a493b5227099100",
      "filename": "README.zh.md",
      "status": "modified",
      "additions": 57,
      "deletions": 8,
      "changes": 65,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd/README.zh.md",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/fc0d597834ec9cf65f67e826e9b9ed14b305fdcd/README.zh.md",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/README.zh.md?ref=fc0d597834ec9cf65f67e826e9b9ed14b305fdcd",
      "patch": "@@ -36,11 +36,18 @@ Ink & Memory \u7684\u6838\u5fc3\u662f\u4e00\u4e2a\u7b80\u6d01\u3001\u6781\u7b80\u7684\u5199\u4f5c\u73af\u5883\u3002\u7f16\u8f91\u5668\u65e8\u5728\n \n ---\n \n-## \u8ba4\u8bc6\u8fd9\u4e9b\u58f0\u97f3\n+## \u9ed8\u8ba4\u58f0\u97f3\u5361\u7ec4\n \n-Ink & Memory \u5305\u542b 16 \u4e2a\u72ec\u7279\u7684\u58f0\u97f3\uff0c\u5206\u4e3a\u4e09\u4e2a\u5361\u7ec4\u3002\u6bcf\u4e2a\u58f0\u97f3\u90fd\u6709\u5176\u72ec\u7279\u7684\u4e2a\u6027\u548c\u89c6\u89d2\u3002\n+Ink & Memory \u9884\u88c5\u4e86\u4e09\u4e2a\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u5361\u7ec4\uff0c\u5305\u542b 16 \u4e2a\u58f0\u97f3\uff0c\u5e2e\u52a9\u4f60\u5feb\u901f\u5f00\u59cb\u3002\u8fd9\u4e9b\u58f0\u97f3\u65e8\u5728\u4ece\u4e0d\u540c\u89d2\u5ea6\u5ba1\u89c6\u4f60\u7684\u5199\u4f5c\u2014\u2014\u4f46\u8fd9\u4ec5\u4ec5\u662f\u4e2a\u5f00\u59cb\u3002\n \n-### \u5185\u7701\u5361\u7ec4\n+**\u4f60\u4e0d\u5fc5\u5c40\u9650\u4e8e\u8fd9\u4e9b\u58f0\u97f3\u3002** \u5361\u7ec4\u7cfb\u7edf\u5141\u8bb8\u4f60\uff1a\n+- \ud83d\udd00 **\u590d\u523b** \u4efb\u4f55\u5361\u7ec4\uff0c\u521b\u5efa\u81ea\u5df1\u7684\u5b9a\u5236\u7248\u672c\n+- \u270f\ufe0f **\u7f16\u8f91** \u58f0\u97f3\u7684\u4e2a\u6027\u3001\u63d0\u793a\u8bcd\u3001\u56fe\u6807\u548c\u989c\u8272\n+- \u2795 **\u521b\u5efa** \u5168\u65b0\u7684\u58f0\u97f3\n+- \ud83c\udf10 **\u63a2\u7d22** \u793e\u533a\u5546\u5e97\u4e2d\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u5361\u7ec4\n+- \ud83d\udce4 **\u53d1\u5e03** \u81ea\u5df1\u7684\u5361\u7ec4\u4e0e\u793e\u533a\u5206\u4eab\n+\n+### \u5185\u7701\u5361\u7ec4\uff08\u9ed8\u8ba4\uff09\n \u8be5\u5361\u7ec4\u4e13\u6ce8\u4e8e\u81ea\u6211\u53cd\u601d\u548c\u4e2a\u4eba\u6210\u957f\u3002\n \n | \u56fe\u6807 | \u540d\u79f0 | \u63cf\u8ff0 |\n@@ -76,13 +83,55 @@ Ink & Memory \u5305\u542b 16 \u4e2a\u72ec\u7279\u7684\u58f0\u97f3\uff0c\u5206\u4e3a\u4e09\u4e2a\u5361\u7ec4\u3002\u6bcf\u4e2a\u58f0\u97f3\u90fd\n \n ---\n \n-## \u6280\u672f\u6df1\u5165\u89e3\u6790\n+### \u521b\u5efa\u4f60\u7684\u4e13\u5c5e\u58f0\u97f3\n+\n+\u6bcf\u4e2a\u58f0\u97f3\u7531\u4ee5\u4e0b\u8981\u7d20\u6784\u6210\uff1a\n+- **\u7cfb\u7edf\u63d0\u793a\u8bcd**\uff1a\u5851\u9020\u5b83\u7684\u4e2a\u6027\u548c\u89c6\u89d2\n+- **\u56fe\u6807**\uff1a\u7528\u4e8e\u89c6\u89c9\u8bc6\u522b\n+- **\u989c\u8272**\uff1a\u4e3a\u6587\u672c\u9ad8\u4eae\u4e0a\u8272\n+\n+\u590d\u523b\u4e00\u4e2a\u5361\u7ec4\u540e\uff0c\u4f60\u53ef\u4ee5\u5b8c\u5168\u638c\u63a7\u8fd9\u4e9b\u5143\u7d20\u3002\u60f3\u8981\u4e00\u4e2a\u66f4\u8d34\u8fd1\u4f60\u559c\u6b22\u7684\u54f2\u5b66\u5bb6\u7684\u58f0\u97f3\uff1f\u4e00\u4e2a\u4e13\u6ce8\u53d9\u4e8b\u7ed3\u6784\u7684\u8bc4\u8bba\u8005\uff1f\u4e00\u4e2a\u4e3a\u521b\u610f\u9879\u76ee\u52a0\u6cb9\u7684\u4f19\u4f34\uff1f\u81ea\u5df1\u52a8\u624b\u6784\u5efa\uff0c\u6216\u5728\u793e\u533a\u5546\u5e97\u76f4\u63a5\u627e\u5230\u3002\n+\n+---\n+\n+## \u58f0\u97f3\u5982\u4f55\u5de5\u4f5c\n+\n+\u5728\u4f60\u5199\u4f5c\u65f6\uff0cInk & Memory \u4f7f\u7528**\u57fa\u4e8e\u8f68\u8ff9\u7684\u80fd\u91cf\u7cfb\u7edf**\u6765\u5206\u6790\u6587\u672c\u3002\u80cc\u540e\u53d1\u751f\u7684\u4e8b\u60c5\u662f\uff1a\n+\n+1. **\u80fd\u91cf\u7d2f\u79ef** \u2014\u2014 \u8f93\u5165\u8d8a\u591a\uff0c\u7cfb\u7edf\u83b7\u5f97\u7684\u201c\u80fd\u91cf\u201d\u8d8a\u9ad8\u3002\n+2. **\u9608\u503c\u89e6\u53d1** \u2014\u2014 \u80fd\u91cf\u8fbe\u5230\u9608\u503c\u65f6\uff0cAI \u4f1a\u5206\u6790\u4f60\u521a\u5199\u4e0b\u7684\u5185\u5bb9\u3002\n+3. **\u58f0\u97f3\u54cd\u5e94** \u2014\u2014 \u5df2\u542f\u7528\u7684\u58f0\u97f3\u6839\u636e\u5404\u81ea\u7684\u4e2a\u6027\u5bfb\u627e\u5171\u9e23\u7247\u6bb5\u3002\n+4. **\u8bc4\u8bba\u51fa\u73b0** \u2014\u2014 \u76f8\u5173\u7684\u58f0\u97f3\u4f1a\u9ad8\u4eae\u77ed\u8bed\uff0c\u5e76\u5728\u4fa7\u8fb9\u7ed9\u51fa\u89c2\u70b9\u3002\n \n-Ink & Memory \u6784\u5efa\u4e8e\u4e00\u4e2a\u73b0\u4ee3\u3001\u5f3a\u5927\u7684\u6280\u672f\u6808\u4e4b\u4e0a\uff1a\n+\u8fd9\u8ba9\u8bc4\u8bba\u50cf\u81ea\u7136\u5192\u51fa\u6765\u4e00\u6837\uff0c\u800c\u4e0d\u662f\u9891\u7e41\u6253\u65ad\u4f60\u7684\u5199\u4f5c\u3002\n \n-*   **\u524d\u7aef:** \u4e00\u4e2a\u7f8e\u89c2\u4e14\u54cd\u5e94\u8fc5\u901f\u7684\u754c\u9762\uff0c\u4f7f\u7528 **React** \u548c **TypeScript** \u6784\u5efa\u3002\u6211\u4eec\u4f7f\u7528 **Vite** \u6765\u83b7\u5f97\u5feb\u901f\u9ad8\u6548\u7684\u5f00\u53d1\u4f53\u9a8c\uff0c\u5e76\u4f7f\u7528 **TipTap** \u7f16\u8f91\u5668\u6765\u5b9e\u73b0\u6d41\u7545\u4e14\u53ef\u81ea\u5b9a\u4e49\u7684\u5199\u4f5c\u754c\u9762\u3002\u4e00\u4e2a\u5b9a\u5236\u7684 **EditorEngine** \u8d1f\u8d23\u7ba1\u7406\u7f16\u8f91\u5668\u72b6\u6001\u5e76\u4e0e\u540e\u7aef\u901a\u4fe1\u3002\n-*   **\u540e\u7aef:** \u4e00\u4e2a\u5f3a\u5927\u4e14\u53ef\u6269\u5c55\u7684 API\uff0c\u4f7f\u7528 **FastAPI** \u548c **Python** \u6784\u5efa\u3002\u6211\u4eec\u4f7f\u7528 **PolyCLI** \u5e93\u6765\u534f\u8c03\u5bf9\u5927\u578b\u8bed\u8a00\u6a21\u578b (LLM) \u7684\u8c03\u7528\uff0c\u6784\u5efa\u8be6\u7ec6\u7684\u63d0\u793a\u4ee5\u4ece\u4e0d\u540c\u7684\u4eba\u5de5\u667a\u80fd\u89d2\u8272\u751f\u6210\u9ad8\u8d28\u91cf\u3001\u4e0e\u4e0a\u4e0b\u6587\u76f8\u5173\u7684\u8bc4\u8bba\u3002\u4e00\u4e2a **Stateless Analyzer** \u662f\u201c\u58f0\u97f3\u201d\u529f\u80fd\u7684\u6838\u5fc3\u3002\n-*   **\u6570\u636e\u5e93:** \u4e00\u4e2a\u53ef\u9760\u4e14\u9ad8\u6548\u7684 **SQLite** \u6570\u636e\u5e93\uff0c\u7528\u4e8e\u5b58\u50a8\u4f60\u7684\u6240\u6709\u6570\u636e\uff0c\u5305\u62ec\u7528\u6237\u3001\u4f1a\u8bdd\u3001\u504f\u597d\u3001\u5361\u7ec4\u3001\u58f0\u97f3\u548c\u597d\u53cb\u3002\n+---\n+\n+## \u6280\u672f\u67b6\u6784\n+\n+Ink & Memory \u57fa\u4e8e\u4e3a\u5b9e\u65f6 AI \u4ea4\u4e92\u8bbe\u8ba1\u7684\u73b0\u4ee3\u6808\uff1a\n+\n+### \u524d\u7aef\n+- **React 19 + TypeScript** \u2014\u2014 \u7c7b\u578b\u5b89\u5168\u7684\u7ec4\u4ef6\u5f0f\u754c\u9762\u3002\n+- **Vite** \u2014\u2014 \u8fc5\u901f\u7684\u5f00\u53d1\u4e0e\u6784\u5efa\u4f53\u9a8c\u3002\n+- **TipTap** \u2014\u2014 \u53ef\u6269\u5c55\u7684\u5bcc\u6587\u672c\u7f16\u8f91\uff0c\u5e76\u6709\u81ea\u5b9a\u4e49\u6269\u5c55\u7528\u4e8e\u58f0\u97f3\u9ad8\u4eae\u3002\n+- **\u81ea\u7814 EditorEngine** \u2014\u2014 \u7ba1\u7406\u7f16\u8f91\u72b6\u6001\u3001\u8bc4\u8bba\u548c\u804a\u5929\u90e8\u4ef6\u3002\n+\n+### \u540e\u7aef\n+- **FastAPI + Python** \u2014\u2014 \u9ad8\u6027\u80fd\u5f02\u6b65 API \u670d\u52a1\u3002\n+- **PolyCLI** \u2014\u2014 \u4ee5\u7ed3\u6784\u5316\u63d0\u793a\u534f\u8c03 LLM \u8c03\u7528\u4e0e\u91cd\u8bd5\u3002\n+- **Stateless Analyzer** \u2014\u2014 \u6838\u5fc3\u7684\u58f0\u97f3\u5206\u6790\u5f15\u64ce\uff0c\u65e0\u9700\u670d\u52a1\u5668\u4f1a\u8bdd\u72b6\u6001\u3002\n+- **SQLite + WAL** \u2014\u2014 \u7a33\u5b9a\u5b58\u50a8\uff0c\u652f\u6301\u5e76\u53d1\u8bfb\u53d6\u3002\n+\n+### AI \u96c6\u6210\n+- **\u591a\u6a21\u578b\u652f\u6301** \u2014\u2014 \u517c\u5bb9 GPT-4\u3001Claude\u3001DeepSeek\u3001Gemini \u7b49\u3002\n+- **\u7ed3\u6784\u5316\u8f93\u51fa** \u2014\u2014 \u4f7f\u7528 Pydantic \u786e\u4fdd\u7c7b\u578b\u5b89\u5168\u7684\u6a21\u578b\u8fd4\u56de\u3002\n+- **\u6bcf\u65e5\u56fe\u7247\u751f\u6210** \u2014\u2014 \u81ea\u52a8\u4e3a\u4f60\u7684\u5199\u4f5c\u751f\u6210\u89c6\u89c9\u6458\u8981\u3002\n+\n+### \u5173\u952e\u8bbe\u8ba1\u51b3\u7b56\n+- **\u5361\u7ec4\u67b6\u6784** \u2014\u2014 \u58f0\u97f3\u88ab\u7ec4\u7ec7\u4e3a\u53ef\u590d\u523b\u3001\u53ef\u5206\u4eab\u7684\u5361\u7ec4\u3002\n+- **\u7236\u5b50\u5173\u7cfb** \u2014\u2014 \u590d\u523b\u7684\u5361\u7ec4\u53ef\u4ece\u6e90\u5361\u7ec4\u540c\u6b65\u66f4\u65b0\u3002\n+- **\u793e\u533a\u5546\u5e97** \u2014\u2014 \u5df2\u53d1\u5e03\u7684\u5361\u7ec4\u53ef\u88ab\u5176\u4ed6\u7528\u6237\u53d1\u73b0\u4e0e\u5b89\u88c5\u3002\n \n ---\n "
    }
  ]
}