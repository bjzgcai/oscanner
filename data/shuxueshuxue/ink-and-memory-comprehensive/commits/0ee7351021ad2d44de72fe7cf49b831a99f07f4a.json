{
  "sha": "0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
  "node_id": "C_kwDOP2Zrm9oAKDBlZTczNTEwMjFhZDJkNDRkZTcyZmU3Y2Y0OWI4MzFhOTlmMDdmNGE",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-10T09:41:13Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-10T09:41:13Z"
    },
    "message": "fix community card layout and remove friend tab",
    "tree": {
      "sha": "d432d66f915f2a795022851cde5d3378788f09e0",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/d432d66f915f2a795022851cde5d3378788f09e0"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/0ee7351021ad2d44de72fe7cf49b831a99f07f4a/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "e52dce84a0e23360ace13562b31d1e67eea36f56",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/e52dce84a0e23360ace13562b31d1e67eea36f56",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/e52dce84a0e23360ace13562b31d1e67eea36f56"
    }
  ],
  "stats": {
    "total": 169,
    "additions": 85,
    "deletions": 84
  },
  "files": [
    {
      "sha": "d816ec1bbd259a8057a385371abe89923d98afdb",
      "filename": "frontend/src/components/DeckManager.tsx",
      "status": "modified",
      "additions": 83,
      "deletions": 64,
      "changes": 147,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/0ee7351021ad2d44de72fe7cf49b831a99f07f4a/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/0ee7351021ad2d44de72fe7cf49b831a99f07f4a/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FDeckManager.tsx?ref=0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
      "patch": "@@ -433,9 +433,10 @@ export default function DeckManager({ onUpdate }: Props) {\n           </h3>\n \n           <div style={{\n-            display: 'grid',\n-            gridTemplateColumns: 'repeat(auto-fit, minmax(360px, 1fr))',\n-            gap: 14\n+            display: 'flex',\n+            flexWrap: 'wrap',\n+            gap: 14,\n+            alignItems: 'stretch'\n           }}>\n             {decks.map(deck => {\n               const isSystem = !!deck.is_system;\n@@ -458,7 +459,10 @@ export default function DeckManager({ onUpdate }: Props) {\n                     flexDirection: 'column',\n                     gap: 10,\n                     cursor: 'pointer',\n-                    transition: 'transform 0.15s, box-shadow 0.15s'\n+                    transition: 'transform 0.15s, box-shadow 0.15s',\n+                    flex: '0 0 360px',\n+                    minWidth: 320,\n+                    maxWidth: '100%'\n                   }}\n                   onMouseEnter={(e) => {\n                     e.currentTarget.style.transform = 'translateY(-1px)';\n@@ -653,9 +657,14 @@ export default function DeckManager({ onUpdate }: Props) {\n               {t('deck.communityEmpty')}\n             </p>\n           ) : (\n-            <div style={{ display: 'flex', flexDirection: 'column', gap: 16 }}>\n+            <div style={{\n+              display: 'flex',\n+              flexWrap: 'wrap',\n+              gap: 14,\n+              alignItems: 'stretch'\n+            }}>\n               {communityDecks.map(deck => {\n-            const Icon = iconMap[deck.icon as keyof typeof iconMap] || iconMap.brain;\n+                const Icon = iconMap[deck.icon as keyof typeof iconMap] || iconMap.brain;\n                 const colorHex = COLORS[deck.color as keyof typeof COLORS]?.hex || '#4a90e2';\n \n                 return (\n@@ -664,83 +673,93 @@ export default function DeckManager({ onUpdate }: Props) {\n                     style={{\n                       background: '#fff',\n                       border: `2px solid ${colorHex}`,\n-                      borderRadius: 12,\n-                      padding: 20,\n-                      boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n-                      transition: 'all 0.3s'\n+                      borderRadius: 10,\n+                      padding: 12,\n+                      boxShadow: '0 3px 10px rgba(0,0,0,0.08)',\n+                      transition: 'transform 0.15s, box-shadow 0.15s',\n+                      display: 'flex',\n+                      flexDirection: 'column',\n+                      gap: 10,\n+                      flex: '0 0 360px',\n+                      minWidth: 320,\n+                      maxWidth: '100%'\n+                    }}\n+                    onMouseEnter={(e) => {\n+                      (e.currentTarget as HTMLDivElement).style.transform = 'translateY(-1px)';\n+                      (e.currentTarget as HTMLDivElement).style.boxShadow = '0 6px 14px rgba(0,0,0,0.12)';\n+                    }}\n+                    onMouseLeave={(e) => {\n+                      (e.currentTarget as HTMLDivElement).style.transform = 'translateY(0)';\n+                      (e.currentTarget as HTMLDivElement).style.boxShadow = '0 3px 10px rgba(0,0,0,0.08)';\n                     }}\n                   >\n-                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n-                      <div style={{ display: 'flex', alignItems: 'center', gap: 16, flex: 1 }}>\n-                        {/* Deck Icon */}\n+                    <div style={{ display: 'flex', gap: 12, alignItems: 'center' }}>\n+                      <div style={{\n+                        width: 50,\n+                        height: 50,\n+                        borderRadius: 25,\n+                        background: `linear-gradient(135deg, ${colorHex} 0%, ${colorHex}cc 100%)`,\n+                        display: 'flex',\n+                        alignItems: 'center',\n+                        justifyContent: 'center',\n+                        color: '#fff',\n+                        flexShrink: 0,\n+                        boxShadow: `0 3px 8px ${colorHex}40`\n+                      }}>\n+                        <Icon size={24} />\n+                      </div>\n+\n+                      <div style={{ flex: 1, minWidth: 0 }}>\n                         <div style={{\n-                          width: 56,\n-                          height: 56,\n-                          borderRadius: 28,\n-                          background: `linear-gradient(135deg, ${colorHex} 0%, ${colorHex}cc 100%)`,\n-                          display: 'flex',\n-                          alignItems: 'center',\n-                          justifyContent: 'center',\n-                          color: '#fff',\n-                          flexShrink: 0,\n-                          boxShadow: `0 3px 8px ${colorHex}40`\n+                          fontSize: 17,\n+                          fontWeight: 700,\n+                          color: '#2c2c2c',\n+                          marginBottom: 4,\n+                          overflow: 'hidden',\n+                          textOverflow: 'ellipsis',\n+                          whiteSpace: 'nowrap'\n                         }}>\n-                          <Icon size={28} />\n+                          {deck.name}\n                         </div>\n-\n-                        <div style={{ flex: 1, minWidth: 0 }}>\n-                          <div style={{\n-                            fontSize: 18,\n-                            fontWeight: 700,\n-                            color: '#2c2c2c',\n-                            marginBottom: 4\n-                          }}>\n-                            {deck.name}\n-                          </div>\n-                          <div style={{\n-                            fontSize: 14,\n-                            color: '#666',\n-                            marginBottom: 4\n-                          }}>\n-                            {deck.description || 'No description'}\n-                          </div>\n-                          <div style={{\n-                            fontSize: 12,\n-                            color: '#999'\n-                          }}>\n-                            {t('deck.communityMeta', {\n-                              author: deck.author_name || t('deck.labels.anonymous'),\n-                              voices: deck.voice_count || 0,\n-                              installs: deck.install_count || 0\n-                            })}\n-                          </div>\n+                        <div style={{\n+                          fontSize: 12,\n+                          color: '#555',\n+                          marginBottom: 4,\n+                          lineHeight: 1.4,\n+                          maxHeight: 32,\n+                          overflow: 'hidden'\n+                        }}>\n+                          {deck.description || 'No description'}\n+                        </div>\n+                        <div style={{\n+                          fontSize: 11,\n+                          color: '#888'\n+                        }}>\n+                          {t('deck.communityMeta', {\n+                            author: deck.author_name || t('deck.labels.anonymous'),\n+                            voices: deck.voice_count || 0,\n+                            installs: deck.install_count || 0\n+                          })}\n                         </div>\n                       </div>\n+                    </div>\n \n+                    <div style={{ display: 'flex', gap: 8, justifyContent: 'flex-start' }}>\n                       <button\n                         onClick={() => handleInstallDeck(deck.id)}\n                         style={{\n-                          padding: '8px 16px',\n+                          padding: '6px 12px',\n                           background: '#27ae60',\n                           color: '#fff',\n                           border: 'none',\n                           borderRadius: 6,\n-                          fontSize: 13,\n+                          fontSize: 12,\n                           fontWeight: 600,\n                           cursor: 'pointer',\n-                          transition: 'all 0.2s',\n-                          flexShrink: 0\n-                        }}\n-                        onMouseEnter={(e) => {\n-                          e.currentTarget.style.transform = 'translateY(-1px)';\n-                          e.currentTarget.style.boxShadow = '0 4px 12px rgba(39, 174, 96, 0.4)';\n-                        }}\n-                        onMouseLeave={(e) => {\n-                          e.currentTarget.style.transform = 'translateY(0)';\n-                          e.currentTarget.style.boxShadow = 'none';\n+                          transition: 'all 0.2s'\n                         }}\n                       >\n-                        {t('deck.actions.install')}\n+                        Install\n                       </button>\n                     </div>\n                   </div>"
    },
    {
      "sha": "18c4eba6443e271ca731a81ca4071278a8d0c17e",
      "filename": "frontend/src/components/TopNavBar.tsx",
      "status": "modified",
      "additions": 2,
      "deletions": 20,
      "changes": 22,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/0ee7351021ad2d44de72fe7cf49b831a99f07f4a/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/0ee7351021ad2d44de72fe7cf49b831a99f07f4a/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FTopNavBar.tsx?ref=0ee7351021ad2d44de72fe7cf49b831a99f07f4a",
      "patch": "@@ -3,8 +3,8 @@ import { useTranslation } from 'react-i18next';\n import { useAuth } from '../contexts/AuthContext';\n \n interface Props {\n-  currentView: 'writing' | 'settings' | 'timeline' | 'analysis' | 'decks' | 'friends';\n-  onViewChange: (view: 'writing' | 'settings' | 'timeline' | 'analysis' | 'decks' | 'friends') => void;\n+  currentView: 'writing' | 'settings' | 'timeline' | 'analysis' | 'decks';\n+  onViewChange: (view: 'writing' | 'settings' | 'timeline' | 'analysis' | 'decks') => void;\n }\n \n export default function LeftSidebar({ currentView, onViewChange }: Props) {\n@@ -152,24 +152,6 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {\n         >\n           {t('nav.decks')}\n         </button>\n-\n-        <button\n-          onClick={() => onViewChange('friends')}\n-          style={buttonStyle(currentView === 'friends')}\n-          title={t('nav.friends')}\n-          onMouseEnter={e => {\n-            if (currentView !== 'friends') {\n-              e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';\n-            }\n-          }}\n-          onMouseLeave={e => {\n-            if (currentView !== 'friends') {\n-              e.currentTarget.style.background = 'transparent';\n-            }\n-          }}\n-        >\n-          {t('nav.friends') || 'Friends'}\n-        </button>\n       </div>\n \n       <div style={{ flex: 1 }} />"
    }
  ]
}