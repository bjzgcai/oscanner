{
  "sha": "5ad37f6dedcf974531b2d519954642aca39b13e8",
  "node_id": "C_kwDOP2Zrm9oAKDVhZDM3ZjZkZWRjZjk3NDUzMWIyZDUxOTk1NDY0MmFjYTM5YjEzZTg",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-09T14:48:17Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-09T14:48:17Z"
    },
    "message": "toolbar hint refactor",
    "tree": {
      "sha": "f29326fe51a69966fee727600f9f0d302d2b80cb",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/f29326fe51a69966fee727600f9f0d302d2b80cb"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/5ad37f6dedcf974531b2d519954642aca39b13e8",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/5ad37f6dedcf974531b2d519954642aca39b13e8",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/5ad37f6dedcf974531b2d519954642aca39b13e8",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/5ad37f6dedcf974531b2d519954642aca39b13e8/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "96e83b7937ab958b2f726ebf723f45bfceedfdaa",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/96e83b7937ab958b2f726ebf723f45bfceedfdaa",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/96e83b7937ab958b2f726ebf723f45bfceedfdaa"
    }
  ],
  "stats": {
    "total": 338,
    "additions": 157,
    "deletions": 181
  },
  "files": [
    {
      "sha": "a143851d234ce0665c7ecf38fa2ce9190ab06dc4",
      "filename": "frontend/src/App.tsx",
      "status": "modified",
      "additions": 1,
      "deletions": 181,
      "changes": 182,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/5ad37f6dedcf974531b2d519954642aca39b13e8/frontend%2Fsrc%2FApp.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/5ad37f6dedcf974531b2d519954642aca39b13e8/frontend%2Fsrc%2FApp.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2FApp.tsx?ref=5ad37f6dedcf974531b2d519954642aca39b13e8",
      "patch": "@@ -8,9 +8,9 @@ import {\n   FaSync,\n   FaBrain, FaHeart, FaQuestion, FaCloud, FaTheaterMasks, FaEye,\n   FaFistRaised, FaLightbulb, FaShieldAlt, FaWind, FaFire, FaCompass,\n-  FaAlignRight, FaMicrophone\n } from 'react-icons/fa';\n import TopNavBar from './components/TopNavBar';\n+import LeftToolbar from './components/LeftToolbar';\n import DeckManager from './components/DeckManager';\n import CalendarPopup from './components/CalendarPopup';\n import { type CalendarEntry } from './utils/calendarStorage';\n@@ -34,186 +34,6 @@ import { STORAGE_KEYS } from './constants/storageKeys';\n import { getLocalDayKey, getTodayKeyInTimezone } from './utils/timezone';\n import { useSessionLifecycle } from './hooks/useSessionLifecycle';\n \n-// @@@ Left Toolbar Component - floating toolbelt within left margin\n-function LeftToolbar({\n-  onInsertAgent,\n-  onToggleAlign,\n-  onShowCalendar,\n-  onSaveToday,\n-  onToggleTalking,\n-  isAligned,\n-  isTalking\n-}: {\n-  onInsertAgent: () => void;\n-  onToggleAlign: () => void;\n-  onShowCalendar: () => void;\n-  onSaveToday: () => void;\n-  onToggleTalking: () => void;\n-  isAligned: boolean;\n-  isTalking: boolean;\n-}) {\n-  return (\n-    <div style={{\n-      position: 'sticky',\n-      top: '80px',\n-      width: '40px',\n-      margin: '30px auto 0',\n-      backgroundColor: '#fff',\n-      border: '1px solid #e0e0e0',\n-      borderRadius: '8px',\n-      boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n-      display: 'flex',\n-      flexDirection: 'column',\n-      alignItems: 'center',\n-      padding: '10px 0',\n-      gap: '4px'\n-    }}>\n-      {/* Calendar button - first */}\n-      <button\n-        onClick={onShowCalendar}\n-        title=\"Calendar\"\n-        style={{\n-          width: '36px',\n-          height: '36px',\n-          border: 'none',\n-          borderRadius: '4px',\n-          backgroundColor: '#fff',\n-          cursor: 'pointer',\n-          display: 'flex',\n-          alignItems: 'center',\n-          justifyContent: 'center',\n-          transition: 'all 0.2s ease'\n-        }}\n-        onMouseEnter={(e) => {\n-          e.currentTarget.style.backgroundColor = '#f0f0f0';\n-        }}\n-        onMouseLeave={(e) => {\n-          e.currentTarget.style.backgroundColor = '#fff';\n-        }}\n-      >\n-        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n-          <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n-          <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line>\n-          <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line>\n-          <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\n-        </svg>\n-      </button>\n-\n-      {/* Save button - second */}\n-      <button\n-        onClick={onSaveToday}\n-        title=\"Save\"\n-        style={{\n-          width: '36px',\n-          height: '36px',\n-          border: 'none',\n-          borderRadius: '4px',\n-          backgroundColor: '#fff',\n-          cursor: 'pointer',\n-          display: 'flex',\n-          alignItems: 'center',\n-          justifyContent: 'center',\n-          transition: 'all 0.2s ease'\n-        }}\n-        onMouseEnter={(e) => {\n-          e.currentTarget.style.backgroundColor = '#f0f0f0';\n-        }}\n-        onMouseLeave={(e) => {\n-          e.currentTarget.style.backgroundColor = '#fff';\n-        }}\n-      >\n-        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n-          <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\n-          <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\n-          <polyline points=\"7 3 7 8 15 8\"></polyline>\n-        </svg>\n-      </button>\n-\n-      {/* Insert Agent button - third */}\n-      <button\n-        onClick={onInsertAgent}\n-        title=\"Insert Agent Chat\"\n-        style={{\n-          width: '36px',\n-          height: '36px',\n-          border: 'none',\n-          borderRadius: '4px',\n-          backgroundColor: '#fff',\n-          cursor: 'pointer',\n-          display: 'flex',\n-          alignItems: 'center',\n-          justifyContent: 'center',\n-          transition: 'all 0.2s ease',\n-          fontSize: '20px',\n-          fontWeight: 600,\n-          color: '#333',\n-          fontFamily: 'monospace'\n-        }}\n-        onMouseEnter={(e) => {\n-          e.currentTarget.style.backgroundColor = '#f0f0f0';\n-        }}\n-        onMouseLeave={(e) => {\n-          e.currentTarget.style.backgroundColor = '#fff';\n-        }}\n-      >\n-        @\n-      </button>\n-\n-      {/* Align button - fourth */}\n-      <button\n-        onClick={onToggleAlign}\n-        title={isAligned ? \"Unalign Comments\" : \"Align Comments Right\"}\n-        style={{\n-          width: '36px',\n-          height: '36px',\n-          border: 'none',\n-          borderRadius: '4px',\n-          backgroundColor: isAligned ? '#e3f2fd' : '#fff',\n-          cursor: 'pointer',\n-          display: 'flex',\n-          alignItems: 'center',\n-          justifyContent: 'center',\n-          transition: 'all 0.2s ease'\n-        }}\n-        onMouseEnter={(e) => {\n-          e.currentTarget.style.backgroundColor = isAligned ? '#bbdefb' : '#f0f0f0';\n-        }}\n-        onMouseLeave={(e) => {\n-          e.currentTarget.style.backgroundColor = isAligned ? '#e3f2fd' : '#fff';\n-        }}\n-      >\n-        <FaAlignRight size={18} color={isAligned ? '#1976d2' : '#333'} />\n-      </button>\n-\n-      {/* Align button - last */}\n-      <button\n-        onClick={onToggleTalking}\n-        title=\"Voice Input\"\n-        style={{\n-          width: '36px',\n-          height: '36px',\n-          border: 'none',\n-          borderRadius: '4px',\n-          backgroundColor: isTalking ? '#e3f2fd' : '#fff',\n-          cursor: 'pointer',\n-          display: 'flex',\n-          alignItems: 'center',\n-          justifyContent: 'center',\n-          transition: 'all 0.2s ease'\n-        }}\n-        onMouseEnter={(e) => {\n-          e.currentTarget.style.backgroundColor = isTalking ? '#bbdefb' : '#f0f0f0';\n-        }}\n-        onMouseLeave={(e) => {\n-          e.currentTarget.style.backgroundColor = isTalking ? '#e3f2fd' : '#fff';\n-        }}\n-      >\n-        <FaMicrophone size={18} color={isTalking ? '#1976d2' : '#333'} />\n-      </button>\n-    </div>\n-  );\n-}\n-\n // @@@ Icon map with React Icons\n const iconMap = {\n   brain: FaBrain,"
    },
    {
      "sha": "15ca3937ea59723e594959733f35d88e39ff8fc0",
      "filename": "frontend/src/components/LeftToolbar.tsx",
      "status": "added",
      "additions": 156,
      "deletions": 0,
      "changes": 156,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/5ad37f6dedcf974531b2d519954642aca39b13e8/frontend%2Fsrc%2Fcomponents%2FLeftToolbar.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/5ad37f6dedcf974531b2d519954642aca39b13e8/frontend%2Fsrc%2Fcomponents%2FLeftToolbar.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FLeftToolbar.tsx?ref=5ad37f6dedcf974531b2d519954642aca39b13e8",
      "patch": "@@ -0,0 +1,156 @@\n+import React, { useState } from 'react';\n+import { FaAlignRight, FaMicrophone } from 'react-icons/fa';\n+\n+// @@@ Hover-label tool button lives outside to avoid re-creation on each render\n+function ToolButton({\n+  label,\n+  onClick,\n+  icon,\n+  active = false,\n+}: {\n+  label: string;\n+  onClick: () => void;\n+  icon: React.ReactNode;\n+  active?: boolean;\n+}) {\n+  const [hovered, setHovered] = useState(false);\n+  const baseBg = active ? '#e3f2fd' : '#fff';\n+  const hoverBg = active ? '#bbdefb' : '#f0f0f0';\n+\n+  return (\n+    <div\n+      style={{\n+        position: 'relative',\n+        width: '40px',\n+      }}\n+      onMouseEnter={() => setHovered(true)}\n+      onMouseLeave={() => setHovered(false)}\n+    >\n+      <button\n+        onClick={onClick}\n+        aria-label={label}\n+        style={{\n+          width: '36px',\n+          height: '36px',\n+          border: 'none',\n+          borderRadius: '4px',\n+          backgroundColor: hovered ? hoverBg : baseBg,\n+          cursor: 'pointer',\n+          display: 'flex',\n+          alignItems: 'center',\n+          justifyContent: 'center',\n+          transition: 'all 0.2s ease',\n+        }}\n+      >\n+        {icon}\n+      </button>\n+      {hovered && (\n+        <div\n+          style={{\n+            position: 'absolute',\n+            left: '44px',\n+            top: '50%',\n+            transform: 'translateY(-50%)',\n+            padding: '6px 10px',\n+            background: '#fff',\n+            border: '1px solid #e0e0e0',\n+            borderRadius: '6px',\n+            boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n+            whiteSpace: 'nowrap',\n+            fontSize: '12px',\n+            color: '#333',\n+            pointerEvents: 'none',\n+            zIndex: 5,\n+          }}\n+        >\n+          {label}\n+        </div>\n+      )}\n+    </div>\n+  );\n+}\n+\n+type Props = {\n+  onInsertAgent: () => void;\n+  onToggleAlign: () => void;\n+  onShowCalendar: () => void;\n+  onSaveToday: () => void;\n+  onToggleTalking: () => void;\n+  isAligned: boolean;\n+  isTalking: boolean;\n+};\n+\n+export default function LeftToolbar({\n+  onInsertAgent,\n+  onToggleAlign,\n+  onShowCalendar,\n+  onSaveToday,\n+  onToggleTalking,\n+  isAligned,\n+  isTalking,\n+}: Props) {\n+  return (\n+    <div\n+      style={{\n+        position: 'sticky',\n+        top: '80px',\n+        width: '40px',\n+        margin: '30px auto 0',\n+        backgroundColor: '#fff',\n+        border: '1px solid #e0e0e0',\n+        borderRadius: '8px',\n+        boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n+        display: 'flex',\n+        flexDirection: 'column',\n+        alignItems: 'center',\n+        padding: '10px 0',\n+        gap: '4px',\n+      }}\n+    >\n+      <ToolButton\n+        label=\"Calendar\"\n+        onClick={onShowCalendar}\n+        icon={\n+          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n+            <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n+            <line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"></line>\n+            <line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"></line>\n+            <line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"></line>\n+          </svg>\n+        }\n+      />\n+\n+      <ToolButton\n+        label=\"Save today\"\n+        onClick={onSaveToday}\n+        icon={\n+          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n+            <path d=\"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z\"></path>\n+            <polyline points=\"17 21 17 13 7 13 7 21\"></polyline>\n+            <polyline points=\"7 3 7 8 15 8\"></polyline>\n+          </svg>\n+        }\n+      />\n+\n+      <ToolButton\n+        label=\"Insert chat\"\n+        onClick={onInsertAgent}\n+        icon={<span style={{ fontSize: '20px', fontWeight: 600, color: '#333', fontFamily: 'monospace' }}>@</span>}\n+      />\n+\n+      <ToolButton\n+        label={isAligned ? 'Unpin comments' : 'Align comments'}\n+        onClick={onToggleAlign}\n+        active={isAligned}\n+        icon={<FaAlignRight size={18} color={isAligned ? '#1976d2' : '#333'} />}\n+      />\n+\n+      <ToolButton\n+        label=\"Voice input\"\n+        onClick={onToggleTalking}\n+        active={isTalking}\n+        icon={<FaMicrophone size={18} color={isTalking ? '#1976d2' : '#333'} />}\n+      />\n+    </div>\n+  );\n+}"
    }
  ]
}