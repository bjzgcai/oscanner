{
  "sha": "b56fdc9077af4657752cd5434560ff09b8cfcd2b",
  "node_id": "C_kwDOP2Zrm9oAKGI1NmZkYzkwNzdhZjQ2NTc3NTJjZDU0MzQ1NjBmZjA5YjhjZmNkMmI",
  "commit": {
    "author": {
      "name": "zhuchenyu2008",
      "email": "132262479+zhuchenyu2008@users.noreply.github.com",
      "date": "2026-01-01T04:43:43Z"
    },
    "committer": {
      "name": "GitHub",
      "email": "noreply@github.com",
      "date": "2026-01-01T04:43:43Z"
    },
    "message": "\u6dfb\u52a0\u63a7\u5236\u80fd\u91cf\u6761\u663e\u793a\u7684\u5f00\u5173\n\n  - \u5728 frontend/src/App.tsx \u65b0\u589e showEnergyBar \u72b6\u6001\u5e76\u6301\u4e45\u5316\u5230 localStorage\uff08\u9ed8\u8ba4\u5f00\u542f\uff09\u3002\r\n  - \u8bbe\u7f6e\u9875\u7684\u8bed\u8a00\u5361\u7247\u91cc\u8ffd\u52a0 \u201cEnergy Bar / \u80fd\u91cf\u6761\u201d \u5f00\u5173\u3002\r\n  - \u5e95\u90e8 debug stats \u7684\u80fd\u91cf\u6761\u7528 showEnergyBar \u63a7\u5236\u663e\u793a\u3002\r\n  - \u4fdd\u6301\u4e86\u8bbe\u7f6e\u754c\u9762\u98ce\u683c\u7edf\u4e00\u3002",
    "tree": {
      "sha": "f88a06387fd39009c33f26b1869ebd13dfce9305",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/f88a06387fd39009c33f26b1869ebd13dfce9305"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/b56fdc9077af4657752cd5434560ff09b8cfcd2b",
    "comment_count": 0,
    "verification": {
      "verified": true,
      "reason": "valid",
      "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJpVft/CRC1aQ7uu5UhlAAATIcQAAyu0vMBMnt/LkaHMmjD4GOx\nd4nsYL8O3LaVotDyWa6cvbwprswJVKBXOuy7wCyB+pZLAPsLh1EC/G8vjYccphja\nez9BIUUFTI3rvjpzVdBi4CjXLTXKgrYDq5YHvLbatoLkk4VKcxB2/VUzmz4ki1ys\no8h+3OWwTnitLOI9Ep9Zx0/MlkgJmBVWUvtwIPDIEbZ6Wm/11qfOrxdixbZw1uvQ\nl6GFijOkFxSSDdx2mgg0QCvdnV4AqkceC1BrnBHLr5EoiJJY0zVBh7IkGr8Xrl7i\nafN7a9IsvoLub3siZXEMh8G1IAKFfyIhOeZu97cQhbVMGnJIVWXuQd9z2nEABjQD\nLigLGsujv1biy40Jje+o7YED3EjQqMpVWZXiTZW+XUb9HHv+NHqWuUtwqHD7fME8\nd+HpFlpPSFr68eqjnp0EcpBmPqjDSlF2TfG4q/1PpC0S5l29p48OhACWO7EF1n52\nkNJYvJx9Kr9DOr/iFykLznyF/n+rkUp/NrS77zRuW8lJeqafNEY4CwyVzTKEYFzT\nHjp+xyHIQu8/HtT/bwbclmqFIY5BEL908/3YigQ01Zgjt3eEXfwfsh7TUrPJZt3K\ndT5FBnaCZS0B/q2gU+fHSM3rTNOV2IOwYsaoRncwK346P1OebBgmLa6ErQwcX7cc\ncRnCSrVfMW9U0r4nN1zo\n=6SxG\n-----END PGP SIGNATURE-----\n",
      "payload": "tree f88a06387fd39009c33f26b1869ebd13dfce9305\nparent 06a05569509f9d8c6e80d920d8848c17faf0a489\nauthor zhuchenyu2008 <132262479+zhuchenyu2008@users.noreply.github.com> 1767242623 +0800\ncommitter GitHub <noreply@github.com> 1767242623 +0800\n\n\u6dfb\u52a0\u63a7\u5236\u80fd\u91cf\u6761\u663e\u793a\u7684\u5f00\u5173\n\n  - \u5728 frontend/src/App.tsx \u65b0\u589e showEnergyBar \u72b6\u6001\u5e76\u6301\u4e45\u5316\u5230 localStorage\uff08\u9ed8\u8ba4\u5f00\u542f\uff09\u3002\r\n  - \u8bbe\u7f6e\u9875\u7684\u8bed\u8a00\u5361\u7247\u91cc\u8ffd\u52a0 \u201cEnergy Bar / \u80fd\u91cf\u6761\u201d \u5f00\u5173\u3002\r\n  - \u5e95\u90e8 debug stats \u7684\u80fd\u91cf\u6761\u7528 showEnergyBar \u63a7\u5236\u663e\u793a\u3002\r\n  - \u4fdd\u6301\u4e86\u8bbe\u7f6e\u754c\u9762\u98ce\u683c\u7edf\u4e00\u3002",
      "verified_at": "2026-01-01T04:43:44Z"
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/b56fdc9077af4657752cd5434560ff09b8cfcd2b",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/b56fdc9077af4657752cd5434560ff09b8cfcd2b",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/b56fdc9077af4657752cd5434560ff09b8cfcd2b/comments",
  "author": {
    "login": "zhuchenyu2008",
    "id": 132262479,
    "node_id": "U_kgDOB-IqTw",
    "avatar_url": "https://avatars.githubusercontent.com/u/132262479?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zhuchenyu2008",
    "html_url": "https://github.com/zhuchenyu2008",
    "followers_url": "https://api.github.com/users/zhuchenyu2008/followers",
    "following_url": "https://api.github.com/users/zhuchenyu2008/following{/other_user}",
    "gists_url": "https://api.github.com/users/zhuchenyu2008/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zhuchenyu2008/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zhuchenyu2008/subscriptions",
    "organizations_url": "https://api.github.com/users/zhuchenyu2008/orgs",
    "repos_url": "https://api.github.com/users/zhuchenyu2008/repos",
    "events_url": "https://api.github.com/users/zhuchenyu2008/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zhuchenyu2008/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "committer": {
    "login": "web-flow",
    "id": 19864447,
    "node_id": "MDQ6VXNlcjE5ODY0NDQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/web-flow",
    "html_url": "https://github.com/web-flow",
    "followers_url": "https://api.github.com/users/web-flow/followers",
    "following_url": "https://api.github.com/users/web-flow/following{/other_user}",
    "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions",
    "organizations_url": "https://api.github.com/users/web-flow/orgs",
    "repos_url": "https://api.github.com/users/web-flow/repos",
    "events_url": "https://api.github.com/users/web-flow/events{/privacy}",
    "received_events_url": "https://api.github.com/users/web-flow/received_events",
    "type": "User",
    "user_view_type": "public",
    "site_admin": false
  },
  "parents": [
    {
      "sha": "06a05569509f9d8c6e80d920d8848c17faf0a489",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/06a05569509f9d8c6e80d920d8848c17faf0a489",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/06a05569509f9d8c6e80d920d8848c17faf0a489"
    }
  ],
  "stats": {
    "total": 121,
    "additions": 95,
    "deletions": 26
  },
  "files": [
    {
      "sha": "0d07715e6a7df889277d0c279e4bab0727922376",
      "filename": "frontend/src/App.tsx",
      "status": "modified",
      "additions": 95,
      "deletions": 26,
      "changes": 121,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/b56fdc9077af4657752cd5434560ff09b8cfcd2b/frontend%2Fsrc%2FApp.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/b56fdc9077af4657752cd5434560ff09b8cfcd2b/frontend%2Fsrc%2FApp.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2FApp.tsx?ref=b56fdc9077af4657752cd5434560ff09b8cfcd2b",
      "patch": "@@ -97,6 +97,14 @@ export default function App() {\n   const [showMigrationDialog, setShowMigrationDialog] = useState(false);\n   const [isMigrating, setIsMigrating] = useState(false);\n   const currentLanguage = (i18n.language || 'en').split('-')[0];\n+  const [showEnergyBar, setShowEnergyBar] = useState(() => {\n+    const stored = localStorage.getItem('show-energy-bar');\n+    return stored ? stored === 'true' : true;\n+  });\n+\n+  useEffect(() => {\n+    localStorage.setItem('show-energy-bar', String(showEnergyBar));\n+  }, [showEnergyBar]);\n   const handleUILanguageChange = useCallback((code: string) => {\n     if (code !== currentLanguage) {\n       i18n.changeLanguage(code);\n@@ -1478,38 +1486,40 @@ export default function App() {\n                 <span>Weight: {lastEntry?.weight || 0}</span>\n                 <span>Applied: {appliedComments.length}</span>\n                 <span>Groups: {commentGroups.size}</span>\n-                <span style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n-                  <span>Energy:</span>\n-                  <span\n-                    key={energyPulseKey}\n-                    style={{\n-                      display: 'inline-flex',\n-                      padding: '2px',\n-                      borderRadius: '999px',\n-                      animation: energyPulseKey > 0 ? 'energyPulse 0.6s ease-out' : 'none'\n-                    }}\n-                  >\n-                    <span style={{\n-                      width: '120px',\n-                      height: '8px',\n-                      borderRadius: '999px',\n-                      background: 'rgba(102, 102, 102, 0.2)',\n-                      overflow: 'hidden',\n-                      display: 'block'\n-                    }}>\n+                {showEnergyBar && (\n+                  <span style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\n+                    <span>Energy:</span>\n                     <span\n+                      key={energyPulseKey}\n                       style={{\n-                        display: 'block',\n-                        height: '100%',\n-                        width: `${Math.round(energyProgress * 100)}%`,\n-                        background: '#666',\n+                        display: 'inline-flex',\n+                        padding: '2px',\n                         borderRadius: '999px',\n-                        transition: 'width 0.25s ease',\n+                        animation: energyPulseKey > 0 ? 'energyPulse 0.6s ease-out' : 'none'\n                       }}\n-                    />\n+                    >\n+                      <span style={{\n+                        width: '120px',\n+                        height: '8px',\n+                        borderRadius: '999px',\n+                        background: 'rgba(102, 102, 102, 0.2)',\n+                        overflow: 'hidden',\n+                        display: 'block'\n+                      }}>\n+                        <span\n+                          style={{\n+                            display: 'block',\n+                            height: '100%',\n+                            width: `${Math.round(energyProgress * 100)}%`,\n+                            background: '#666',\n+                            borderRadius: '999px',\n+                            transition: 'width 0.25s ease',\n+                          }}\n+                        />\n+                      </span>\n                     </span>\n                   </span>\n-                </span>\n+                )}\n               </div>\n             </div>\n           </div>\n@@ -1640,6 +1650,65 @@ export default function App() {\n                 }}>\n                   {t('settings.language.preview')}\n                 </p>\n+\n+                <div style={{\n+                  marginTop: 20,\n+                  paddingTop: 16,\n+                  borderTop: '1px dashed #d0c4b0'\n+                }}>\n+                  <div style={{\n+                    display: 'flex',\n+                    alignItems: 'center',\n+                    justifyContent: 'space-between',\n+                    gap: 12\n+                  }}>\n+                    <div>\n+                      <div style={{\n+                        fontSize: 14,\n+                        fontWeight: 500,\n+                        color: '#2c2c2c',\n+                        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n+                      }}>\n+                        Energy Bar / \u80fd\u91cf\u6761\n+                      </div>\n+                      <div style={{\n+                        marginTop: 6,\n+                        fontSize: 12,\n+                        color: '#666',\n+                        fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif'\n+                      }}>\n+                        Toggle the energy progress bar in the bottom stats line.\n+                      </div>\n+                    </div>\n+                    <button\n+                      type=\"button\"\n+                      onClick={() => setShowEnergyBar(prev => !prev)}\n+                      aria-pressed={showEnergyBar}\n+                      style={{\n+                        width: 44,\n+                        height: 24,\n+                        borderRadius: 999,\n+                        border: showEnergyBar ? '1px solid #2c2c2c' : '1px solid #d0c4b0',\n+                        background: showEnergyBar ? '#2c2c2c' : 'transparent',\n+                        cursor: 'pointer',\n+                        position: 'relative',\n+                        padding: 0,\n+                        transition: 'all 0.2s ease'\n+                      }}\n+                    >\n+                      <span style={{\n+                        position: 'absolute',\n+                        top: 3,\n+                        left: showEnergyBar ? 24 : 4,\n+                        width: 16,\n+                        height: 16,\n+                        borderRadius: '50%',\n+                        background: showEnergyBar ? '#fff' : '#8a7a69',\n+                        transition: 'all 0.2s ease'\n+                      }} />\n+                    </button>\n+                  </div>\n+                </div>\n               </div>\n             </section>\n "
    }
  ]
}