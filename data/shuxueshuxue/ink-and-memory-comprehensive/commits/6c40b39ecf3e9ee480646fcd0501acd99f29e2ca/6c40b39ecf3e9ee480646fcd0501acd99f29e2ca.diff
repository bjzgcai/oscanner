commit 6c40b39ecf3e9ee480646fcd0501acd99f29e2ca
Author: lexicalmathical <lexicalmathical@gmail.com>
Date:   Wed Dec 3 03:34:48 2025 +0800

    Record frontend version in deploy and verify

diff --git a/.github/workflows/deploy-frontend.yml b/.github/workflows/deploy-frontend.yml
index 0b0518b..2c1bdd0 100644
--- a/.github/workflows/deploy-frontend.yml
+++ b/.github/workflows/deploy-frontend.yml
@@ -21,8 +21,11 @@ jobs:
       - name: Install deps & build
         working-directory: frontend
         run: |
+          FRONTEND_VERSION=${GITHUB_SHA}
+          echo "Building frontend version ${FRONTEND_VERSION}"
           npm ci
-          VITE_FRONTEND_VERSION=${GITHUB_SHA} npm run build
+          VITE_FRONTEND_VERSION=${FRONTEND_VERSION} npm run build
+          echo "${FRONTEND_VERSION}" > dist/version.txt
 
       - name: Deploy static assets
         uses: appleboy/scp-action@v0.1.7
@@ -30,7 +33,7 @@ jobs:
           host: 101.201.227.31
           username: root
           key: ${{ secrets.SERVER_SSH_KEY }}
-          source: "frontend/dist/*"
+          source: "frontend/dist/**"
           target: "/var/www/lexicalmathical.com/ink-and-memory/"
           overwrite: true
 
@@ -42,3 +45,5 @@ jobs:
           key: ${{ secrets.SERVER_SSH_KEY }}
           script: |
             chown -R www-data:www-data /var/www/lexicalmathical.com/ink-and-memory/
+            echo "Deployed frontend version:"
+            cat /var/www/lexicalmathical.com/ink-and-memory/version.txt || true
