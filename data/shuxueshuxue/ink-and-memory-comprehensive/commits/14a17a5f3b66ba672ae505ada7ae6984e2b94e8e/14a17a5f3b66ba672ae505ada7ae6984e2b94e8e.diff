commit 14a17a5f3b66ba672ae505ada7ae6984e2b94e8e
Author: lexicalmathical <lexicalmathical@gmail.com>
Date:   Mon Oct 13 13:27:53 2025 +0800

    Add deployment support: UUID fallback and server IP configuration
    
    - Add UUID fallback for non-secure contexts (crypto.randomUUID not available)
    - Update API base URL to server IP (101.201.227.31:8765)
    - Configure backend to listen on 0.0.0.0 for external access
    
    Ready for pilot test deployment

diff --git a/frontend/src/App.tsx b/frontend/src/App.tsx
index 9fee64c..1e7238f 100644
--- a/frontend/src/App.tsx
+++ b/frontend/src/App.tsx
@@ -15,9 +15,22 @@ interface Voice {
   position: number;
 }
 
+// @@@ UUID fallback for non-secure contexts
+function generateUUID() {
+  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
+    const r = Math.random() * 16 | 0;
+    const v = c === 'x' ? r : (r & 0x3 | 0x8);
+    return v.toString(16);
+  });
+}
+
 function App() {
   // @@@ Multi-user support - Generate unique session ID on mount
-  const sessionId = useRef(crypto.randomUUID()).current;
+  const sessionId = useRef(
+    typeof crypto !== 'undefined' && crypto.randomUUID
+      ? crypto.randomUUID()
+      : generateUUID()
+  ).current;
 
   const [voices, setVoices] = useState<Voice[]>([]);
   const [voiceTriggers, setVoiceTriggers] = useState<VoiceTrigger[]>([]);
diff --git a/frontend/src/api/voiceApi.ts b/frontend/src/api/voiceApi.ts
index e690802..4df8a7c 100644
--- a/frontend/src/api/voiceApi.ts
+++ b/frontend/src/api/voiceApi.ts
@@ -2,7 +2,7 @@
  * API client for voice analysis backend
  */
 
-const API_BASE = 'http://localhost:8765';
+const API_BASE = 'http://101.201.227.31:8765';
 
 interface TriggerResponse {
   success: boolean;
