commit b56fdc9077af4657752cd5434560ff09b8cfcd2b
Author: zhuchenyu2008 <132262479+zhuchenyu2008@users.noreply.github.com>
Date:   Thu Jan 1 12:43:43 2026 +0800

    添加控制能量条显示的开关
    
      - 在 frontend/src/App.tsx 新增 showEnergyBar 状态并持久化到 localStorage（默认开启）。
      - 设置页的语言卡片里追加 “Energy Bar / 能量条” 开关。
      - 底部 debug stats 的能量条用 showEnergyBar 控制显示。
      - 保持了设置界面风格统一。

diff --git a/frontend/src/App.tsx b/frontend/src/App.tsx
index fbe1ebe..0d07715 100644
--- a/frontend/src/App.tsx
+++ b/frontend/src/App.tsx
@@ -97,6 +97,14 @@ export default function App() {
   const [showMigrationDialog, setShowMigrationDialog] = useState(false);
   const [isMigrating, setIsMigrating] = useState(false);
   const currentLanguage = (i18n.language || 'en').split('-')[0];
+  const [showEnergyBar, setShowEnergyBar] = useState(() => {
+    const stored = localStorage.getItem('show-energy-bar');
+    return stored ? stored === 'true' : true;
+  });
+
+  useEffect(() => {
+    localStorage.setItem('show-energy-bar', String(showEnergyBar));
+  }, [showEnergyBar]);
   const handleUILanguageChange = useCallback((code: string) => {
     if (code !== currentLanguage) {
       i18n.changeLanguage(code);
@@ -1478,38 +1486,40 @@ export default function App() {
                 <span>Weight: {lastEntry?.weight || 0}</span>
                 <span>Applied: {appliedComments.length}</span>
                 <span>Groups: {commentGroups.size}</span>
-                <span style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>
-                  <span>Energy:</span>
-                  <span
-                    key={energyPulseKey}
-                    style={{
-                      display: 'inline-flex',
-                      padding: '2px',
-                      borderRadius: '999px',
-                      animation: energyPulseKey > 0 ? 'energyPulse 0.6s ease-out' : 'none'
-                    }}
-                  >
-                    <span style={{
-                      width: '120px',
-                      height: '8px',
-                      borderRadius: '999px',
-                      background: 'rgba(102, 102, 102, 0.2)',
-                      overflow: 'hidden',
-                      display: 'block'
-                    }}>
+                {showEnergyBar && (
+                  <span style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>
+                    <span>Energy:</span>
                     <span
+                      key={energyPulseKey}
                       style={{
-                        display: 'block',
-                        height: '100%',
-                        width: `${Math.round(energyProgress * 100)}%`,
-                        background: '#666',
+                        display: 'inline-flex',
+                        padding: '2px',
                         borderRadius: '999px',
-                        transition: 'width 0.25s ease',
+                        animation: energyPulseKey > 0 ? 'energyPulse 0.6s ease-out' : 'none'
                       }}
-                    />
+                    >
+                      <span style={{
+                        width: '120px',
+                        height: '8px',
+                        borderRadius: '999px',
+                        background: 'rgba(102, 102, 102, 0.2)',
+                        overflow: 'hidden',
+                        display: 'block'
+                      }}>
+                        <span
+                          style={{
+                            display: 'block',
+                            height: '100%',
+                            width: `${Math.round(energyProgress * 100)}%`,
+                            background: '#666',
+                            borderRadius: '999px',
+                            transition: 'width 0.25s ease',
+                          }}
+                        />
+                      </span>
                     </span>
                   </span>
-                </span>
+                )}
               </div>
             </div>
           </div>
@@ -1640,6 +1650,65 @@ export default function App() {
                 }}>
                   {t('settings.language.preview')}
                 </p>
+
+                <div style={{
+                  marginTop: 20,
+                  paddingTop: 16,
+                  borderTop: '1px dashed #d0c4b0'
+                }}>
+                  <div style={{
+                    display: 'flex',
+                    alignItems: 'center',
+                    justifyContent: 'space-between',
+                    gap: 12
+                  }}>
+                    <div>
+                      <div style={{
+                        fontSize: 14,
+                        fontWeight: 500,
+                        color: '#2c2c2c',
+                        fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                      }}>
+                        Energy Bar / 能量条
+                      </div>
+                      <div style={{
+                        marginTop: 6,
+                        fontSize: 12,
+                        color: '#666',
+                        fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                      }}>
+                        Toggle the energy progress bar in the bottom stats line.
+                      </div>
+                    </div>
+                    <button
+                      type="button"
+                      onClick={() => setShowEnergyBar(prev => !prev)}
+                      aria-pressed={showEnergyBar}
+                      style={{
+                        width: 44,
+                        height: 24,
+                        borderRadius: 999,
+                        border: showEnergyBar ? '1px solid #2c2c2c' : '1px solid #d0c4b0',
+                        background: showEnergyBar ? '#2c2c2c' : 'transparent',
+                        cursor: 'pointer',
+                        position: 'relative',
+                        padding: 0,
+                        transition: 'all 0.2s ease'
+                      }}
+                    >
+                      <span style={{
+                        position: 'absolute',
+                        top: 3,
+                        left: showEnergyBar ? 24 : 4,
+                        width: 16,
+                        height: 16,
+                        borderRadius: '50%',
+                        background: showEnergyBar ? '#fff' : '#8a7a69',
+                        transition: 'all 0.2s ease'
+                      }} />
+                    </button>
+                  </div>
+                </div>
               </div>
             </section>
 
