{
  "sha": "f803659ce6307c43c299013aa89674519a1428a3",
  "node_id": "C_kwDOP2Zrm9oAKGY4MDM2NTljZTYzMDdjNDNjMjk5MDEzYWE4OTY3NDUxOWExNDI4YTM",
  "commit": {
    "author": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-10T08:42:11Z"
    },
    "committer": {
      "name": "lexicalmathical",
      "email": "lexicalmathical@gmail.com",
      "date": "2025-12-10T08:42:11Z"
    },
    "message": "remove legacy voice settings",
    "tree": {
      "sha": "7013a99580271b3087e18994a50ad74b8b1d30c4",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/trees/7013a99580271b3087e18994a50ad74b8b1d30c4"
    },
    "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/git/commits/f803659ce6307c43c299013aa89674519a1428a3",
    "comment_count": 0,
    "verification": {
      "verified": false,
      "reason": "unsigned",
      "signature": null,
      "payload": null,
      "verified_at": null
    }
  },
  "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/f803659ce6307c43c299013aa89674519a1428a3",
  "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/f803659ce6307c43c299013aa89674519a1428a3",
  "comments_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/f803659ce6307c43c299013aa89674519a1428a3/comments",
  "author": null,
  "committer": null,
  "parents": [
    {
      "sha": "844f971cb646fd647f90b20eef30df8a468ee7d7",
      "url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/commits/844f971cb646fd647f90b20eef30df8a468ee7d7",
      "html_url": "https://github.com/shuxueshuxue/ink-and-memory/commit/844f971cb646fd647f90b20eef30df8a468ee7d7"
    }
  ],
  "stats": {
    "total": 930,
    "additions": 0,
    "deletions": 930
  },
  "files": [
    {
      "sha": "4b193606296b6b281ac797012391c3bc04159dc9",
      "filename": "frontend/src/components/VoiceSettings.tsx",
      "status": "removed",
      "additions": 0,
      "deletions": 930,
      "changes": 930,
      "blob_url": "https://github.com/shuxueshuxue/ink-and-memory/blob/844f971cb646fd647f90b20eef30df8a468ee7d7/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx",
      "raw_url": "https://github.com/shuxueshuxue/ink-and-memory/raw/844f971cb646fd647f90b20eef30df8a468ee7d7/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx",
      "contents_url": "https://api.github.com/repos/shuxueshuxue/ink-and-memory/contents/frontend%2Fsrc%2Fcomponents%2FVoiceSettings.tsx?ref=844f971cb646fd647f90b20eef30df8a468ee7d7",
      "patch": "@@ -1,930 +0,0 @@\n-import { useState, useEffect, useRef } from 'react';\n-import { useTranslation } from 'react-i18next';\n-import type { VoiceConfig, StateConfig, UserState } from '../api/voiceApi';\n-import { saveVoices, clearVoices, getMetaPrompt, saveMetaPrompt, getStateConfig, saveStateConfig } from '../utils/voiceStorage';\n-import {\n-  FaBrain, FaHeart, FaQuestion, FaCloud, FaTheaterMasks, FaEye,\n-  FaFistRaised, FaLightbulb, FaShieldAlt, FaWind, FaFire, FaCompass\n-} from 'react-icons/fa';\n-\n-// @@@ Display mappings (text name \u2192 visual)\n-const COLORS = {\n-  'blue': { hex: '#4a90e2', label: 'Blue' },\n-  'purple': { hex: '#9b59b6', label: 'Purple' },\n-  'pink': { hex: '#e91e63', label: 'Pink' },\n-  'green': { hex: '#27ae60', label: 'Green' },\n-  'yellow': { hex: '#f39c12', label: 'Yellow' }\n-};\n-\n-// @@@ Icon map with React Icons (matching App.tsx)\n-const iconMap = {\n-  brain: FaBrain,\n-  heart: FaHeart,\n-  question: FaQuestion,\n-  cloud: FaCloud,\n-  masks: FaTheaterMasks,\n-  eye: FaEye,\n-  fist: FaFistRaised,\n-  lightbulb: FaLightbulb,\n-  shield: FaShieldAlt,\n-  wind: FaWind,\n-  fire: FaFire,\n-  compass: FaCompass,\n-};\n-\n-// @@@ Icon labels for dropdown display (emoji for visual reference)\n-const ICON_LABELS = {\n-  'brain': '\ud83e\udde0 brain',\n-  'lightbulb': '\ud83d\udca1 lightbulb',\n-  'masks': '\ud83c\udfad masks',\n-  'cloud': '\u2601\ufe0f cloud',\n-  'shield': '\ud83d\udee1\ufe0f shield',\n-  'compass': '\ud83e\udded compass',\n-  'heart': '\u2764\ufe0f heart',\n-  'fist': '\u270a fist',\n-  'fire': '\ud83d\udd25 fire',\n-  'wind': '\ud83d\udca8 wind',\n-  'question': '\u2753 question',\n-  'eye': '\ud83d\udc41\ufe0f eye'\n-};\n-\n-interface Props {\n-  defaultVoices: Record<string, VoiceConfig>;\n-  currentVoices: Record<string, VoiceConfig>;\n-  currentMetaPrompt: string;\n-  currentStateConfig: StateConfig | null;\n-  onSave: (data: {\n-    voices: Record<string, VoiceConfig>;\n-    metaPrompt: string;\n-    stateConfig: StateConfig;\n-  }) => void | Promise<void>;\n-}\n-\n-export default function VoiceSettings({ defaultVoices, currentVoices, currentMetaPrompt, currentStateConfig, onSave }: Props) {\n-  const { t } = useTranslation();\n-  const [voices, setVoices] = useState<Record<string, VoiceConfig>>({});\n-  const [metaPrompt, setMetaPrompt] = useState<string>('');\n-  const [stateConfig, setStateConfig] = useState<StateConfig>(getStateConfig());\n-  const [saveStatus, setSaveStatus] = useState<'idle' | 'saved'>('idle');\n-  const scrollContainerRef = useRef<HTMLDivElement>(null);\n-\n-  // @@@ Use currentVoices from database (for authenticated users) or defaultVoices fallback\n-  useEffect(() => {\n-    if (Object.keys(currentVoices).length > 0) {\n-      setVoices(currentVoices);\n-    } else if (Object.keys(defaultVoices).length > 0) {\n-      setVoices(defaultVoices);\n-    }\n-  }, [currentVoices, defaultVoices]);\n-\n-  // @@@ Use currentMetaPrompt from database or fallback to localStorage/default\n-  useEffect(() => {\n-    if (currentMetaPrompt) {\n-      setMetaPrompt(currentMetaPrompt);\n-    } else {\n-      setMetaPrompt(getMetaPrompt());\n-    }\n-  }, [currentMetaPrompt]);\n-\n-  // @@@ Use currentStateConfig from database or fallback to localStorage/default\n-  useEffect(() => {\n-    if (currentStateConfig) {\n-      setStateConfig(currentStateConfig);\n-    } else {\n-      setStateConfig(getStateConfig());\n-    }\n-  }, [currentStateConfig]);\n-\n-\n-  const handleSave = async () => {\n-    console.log('VoiceSettings: handleSave called');\n-    try {\n-      saveVoices(voices);\n-      saveMetaPrompt(metaPrompt);\n-      saveStateConfig(stateConfig);\n-      console.log('VoiceSettings: localStorage saved, calling onSave callback');\n-      await onSave({ voices, metaPrompt, stateConfig });\n-      console.log('VoiceSettings: onSave callback completed');\n-      setSaveStatus('saved');\n-      setTimeout(() => setSaveStatus('idle'), 2000);\n-    } catch (error) {\n-      console.error('VoiceSettings: Save failed:', error);\n-      alert('Failed to save settings. Check console for details.');\n-    }\n-  };\n-\n-  const handleDefault = () => {\n-    clearVoices();\n-    localStorage.removeItem('meta-prompt');\n-    localStorage.removeItem('state-config');\n-    // Deep copy to force React to re-render\n-    const freshDefaults = JSON.parse(JSON.stringify(defaultVoices));\n-    const freshMetaPrompt = getMetaPrompt();\n-    const freshStateConfig = getStateConfig();\n-    setVoices(freshDefaults);\n-    setMetaPrompt(freshMetaPrompt);\n-    setStateConfig(freshStateConfig);\n-    onSave({ voices: freshDefaults, metaPrompt: freshMetaPrompt, stateConfig: freshStateConfig });\n-  };\n-\n-  const handleAdd = () => {\n-    const newId = `voice_${Date.now()}`;\n-    setVoices({\n-      ...voices,\n-      [newId]: {\n-        name: 'New Voice',\n-        systemPrompt: 'Describe this voice...',\n-        enabled: true,\n-        icon: 'masks',\n-        color: 'blue'\n-      }\n-    });\n-\n-    // Scroll to bottom after adding\n-    setTimeout(() => {\n-      if (scrollContainerRef.current) {\n-        scrollContainerRef.current.scrollTo({\n-          top: scrollContainerRef.current.scrollHeight,\n-          behavior: 'smooth'\n-        });\n-      }\n-    }, 100);\n-  };\n-\n-  const handleDelete = (id: string) => {\n-    const { [id]: _, ...rest } = voices;\n-    setVoices(rest);\n-  };\n-\n-  const handleRename = (id: string, newName: string) => {\n-    // Just update the name, keep the ID stable\n-    setVoices({ ...voices, [id]: { ...voices[id], name: newName } });\n-  };\n-\n-  const handleUpdate = (id: string, field: keyof VoiceConfig, value: any) => {\n-    setVoices({ ...voices, [id]: { ...voices[id], [field]: value } });\n-  };\n-\n-  const handleExport = () => {\n-    // @@@ Export voices, meta prompt, and state config\n-    const data = {\n-      voices,\n-      metaPrompt,\n-      stateConfig\n-    };\n-    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n-    const url = URL.createObjectURL(blob);\n-    const a = document.createElement('a');\n-    a.href = url;\n-    a.download = `voices-${Date.now()}.json`;\n-    a.click();\n-  };\n-\n-  const handleImport = () => {\n-    const input = document.createElement('input');\n-    input.type = 'file';\n-    input.accept = '.json';\n-    input.onchange = (e) => {\n-      const file = (e.target as HTMLInputElement).files?.[0];\n-      if (file) {\n-        file.text().then(text => {\n-          const imported = JSON.parse(text);\n-          // @@@ Support old format (just voices) and new format (voices + metaPrompt + stateConfig)\n-          const importedVoices = imported.voices || imported;\n-          const importedMetaPrompt = imported.metaPrompt || '';\n-          const importedStateConfig = imported.stateConfig || getStateConfig();\n-          setVoices(importedVoices);\n-          setMetaPrompt(importedMetaPrompt);\n-          setStateConfig(importedStateConfig);\n-          saveVoices(importedVoices);\n-          saveMetaPrompt(importedMetaPrompt);\n-          saveStateConfig(importedStateConfig);\n-          onSave({ voices: importedVoices, metaPrompt: importedMetaPrompt, stateConfig: importedStateConfig });\n-        });\n-      }\n-    };\n-    input.click();\n-  };\n-\n-\n-  const handleAddState = () => {\n-    const newId = `state_${Date.now()}`;\n-    setStateConfig({\n-      ...stateConfig,\n-      states: {\n-        ...stateConfig.states,\n-        [newId]: { name: 'New State', prompt: '' }\n-      }\n-    });\n-  };\n-\n-  const handleDeleteState = (id: string) => {\n-    const { [id]: _, ...rest } = stateConfig.states;\n-    setStateConfig({ ...stateConfig, states: rest });\n-  };\n-\n-  const handleUpdateState = (id: string, field: keyof UserState, value: string) => {\n-    setStateConfig({\n-      ...stateConfig,\n-      states: {\n-        ...stateConfig.states,\n-        [id]: { ...stateConfig.states[id], [field]: value }\n-      }\n-    });\n-  };\n-\n-  const [activeTab, setActiveTab] = useState<'voices' | 'meta' | 'states'>('voices');\n-\n-  return (\n-    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', background: '#f8f0e6', overflow: 'hidden' }}>\n-      {/* Fixed Header */}\n-      <div style={{\n-        padding: '24px 32px 0',\n-        background: '#f8f0e6',\n-        flexShrink: 0\n-      }}>\n-        {/* Title */}\n-        <div style={{ marginBottom: 20 }}>\n-          <h1 style={{\n-            margin: 0,\n-            fontSize: 28,\n-            fontWeight: 700,\n-            color: '#2c2c2c',\n-            fontFamily: 'Georgia, serif',\n-            letterSpacing: '-0.5px'\n-          }}>\n-            {t('settings.heading')}\n-          </h1>\n-          <p style={{\n-            margin: '6px 0 0',\n-            fontSize: 14,\n-            color: '#666',\n-            fontStyle: 'italic'\n-          }}>\n-            {t('settings.subheading')}\n-          </p>\n-        </div>\n-\n-        {/* Tabs */}\n-        <div style={{\n-          display: 'flex',\n-          gap: 8,\n-          borderBottom: '2px solid #d0c4b0'\n-        }}>\n-          {['voices', 'meta', 'states'].map((tab) => (\n-            <button\n-              key={tab}\n-              onClick={() => setActiveTab(tab as any)}\n-              style={{\n-                padding: '12px 24px',\n-                border: 'none',\n-                background: activeTab === tab ? '#fff' : 'transparent',\n-                borderRadius: '8px 8px 0 0',\n-                cursor: 'pointer',\n-                fontSize: 14,\n-                fontWeight: activeTab === tab ? 600 : 400,\n-                color: activeTab === tab ? '#2c2c2c' : '#888',\n-                transition: 'all 0.2s',\n-                borderBottom: activeTab === tab ? '2px solid #2c2c2c' : 'none',\n-                marginBottom: '-2px'\n-              }}\n-              onMouseEnter={(e) => {\n-                if (activeTab !== tab) {\n-                  e.currentTarget.style.background = 'rgba(255, 255, 255, 0.5)';\n-                }\n-              }}\n-              onMouseLeave={(e) => {\n-                if (activeTab !== tab) {\n-                  e.currentTarget.style.background = 'transparent';\n-                }\n-              }}\n-            >\n-              {tab === 'voices' && t('settings.tabs.voices')}\n-              {tab === 'meta' && t('settings.tabs.meta')}\n-              {tab === 'states' && t('settings.tabs.states')}\n-            </button>\n-          ))}\n-\n-          {/* Action buttons on the right */}\n-          <div style={{ flex: 1 }} />\n-          <div style={{ display: 'flex', gap: 8, alignItems: 'flex-end', paddingBottom: 8 }}>\n-            {activeTab === 'voices' && (\n-              <>\n-                <button onClick={handleAdd} style={{\n-                  padding: '6px 14px',\n-                  border: '1px solid #d0c4b0',\n-                  background: '#fff',\n-                  borderRadius: 6,\n-                  cursor: 'pointer',\n-                  fontSize: 12,\n-                  fontWeight: 500,\n-                  transition: 'all 0.2s',\n-                  boxShadow: '0 1px 3px rgba(0,0,0,0.08)'\n-                }}\n-                onMouseEnter={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(-1px)';\n-                  e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.12)';\n-                }}\n-                onMouseLeave={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(0)';\n-                  e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';\n-                }}\n-                >+ Add Voice</button>\n-                <button onClick={handleImport} style={{\n-                  padding: '6px 14px',\n-                  border: '1px solid #d0c4b0',\n-                  background: '#fff',\n-                  borderRadius: 6,\n-                  cursor: 'pointer',\n-                  fontSize: 12,\n-                  transition: 'all 0.2s',\n-                  boxShadow: '0 1px 3px rgba(0,0,0,0.08)'\n-                }}\n-                onMouseEnter={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(-1px)';\n-                  e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.12)';\n-                }}\n-                onMouseLeave={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(0)';\n-                  e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';\n-                }}\n-                >Import</button>\n-                <button onClick={handleExport} style={{\n-                  padding: '6px 14px',\n-                  border: '1px solid #d0c4b0',\n-                  background: '#fff',\n-                  borderRadius: 6,\n-                  cursor: 'pointer',\n-                  fontSize: 12,\n-                  transition: 'all 0.2s',\n-                  boxShadow: '0 1px 3px rgba(0,0,0,0.08)'\n-                }}\n-                onMouseEnter={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(-1px)';\n-                  e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.12)';\n-                }}\n-                onMouseLeave={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(0)';\n-                  e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';\n-                }}\n-                >Export</button>\n-                <button onClick={handleDefault} style={{\n-                  padding: '6px 14px',\n-                  border: '1px solid #d0c4b0',\n-                  background: '#fff',\n-                  borderRadius: 6,\n-                  cursor: 'pointer',\n-                  fontSize: 12,\n-                  transition: 'all 0.2s',\n-                  boxShadow: '0 1px 3px rgba(0,0,0,0.08)'\n-                }}\n-                onMouseEnter={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(-1px)';\n-                  e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.12)';\n-                }}\n-                onMouseLeave={(e) => {\n-                  e.currentTarget.style.transform = 'translateY(0)';\n-                  e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';\n-                }}\n-                >Reset to Default</button>\n-              </>\n-            )}\n-            {activeTab === 'states' && (\n-              <button onClick={handleAddState} style={{\n-                padding: '6px 14px',\n-                border: '1px solid #d0c4b0',\n-                background: '#fff',\n-                borderRadius: 6,\n-                cursor: 'pointer',\n-                fontSize: 12,\n-                fontWeight: 500,\n-                transition: 'all 0.2s',\n-                boxShadow: '0 1px 3px rgba(0,0,0,0.08)'\n-              }}\n-              onMouseEnter={(e) => {\n-                e.currentTarget.style.transform = 'translateY(-1px)';\n-                e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.12)';\n-              }}\n-              onMouseLeave={(e) => {\n-                e.currentTarget.style.transform = 'translateY(0)';\n-                e.currentTarget.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';\n-              }}\n-              >+ Add State</button>\n-            )}\n-            <button\n-              onClick={handleSave}\n-              style={{\n-                padding: '6px 18px',\n-                border: 'none',\n-                background: saveStatus === 'saved' ? '#27ae60' : '#2c2c2c',\n-                color: '#fff',\n-                borderRadius: 6,\n-                cursor: 'pointer',\n-                fontWeight: 600,\n-                fontSize: 12,\n-                transition: 'all 0.3s',\n-                boxShadow: '0 2px 6px rgba(0,0,0,0.15)'\n-              }}\n-              onMouseEnter={(e) => {\n-                if (saveStatus !== 'saved') {\n-                  e.currentTarget.style.transform = 'translateY(-1px)';\n-                  e.currentTarget.style.boxShadow = '0 3px 8px rgba(0,0,0,0.2)';\n-                }\n-              }}\n-              onMouseLeave={(e) => {\n-                e.currentTarget.style.transform = 'translateY(0)';\n-                e.currentTarget.style.boxShadow = '0 2px 6px rgba(0,0,0,0.15)';\n-              }}\n-            >\n-              {saveStatus === 'saved' ? '\u2713 Saved!' : 'Save Changes'}\n-            </button>\n-          </div>\n-        </div>\n-      </div>\n-\n-      {/* Scrollable Content Area */}\n-      <div ref={scrollContainerRef} style={{ flex: 1, overflowY: 'auto', padding: '32px', background: '#f8f0e6' }}>\n-\n-        {/* VOICES TAB */}\n-        {activeTab === 'voices' && (\n-          <div style={{\n-            display: 'grid',\n-            gridTemplateColumns: 'repeat(auto-fill, minmax(360px, 1fr))',\n-            gap: 24,\n-            alignContent: 'start'\n-          }}>\n-            {Object.entries(voices).map(([id, voice]) => {\n-              const colorHex = COLORS[voice.color as keyof typeof COLORS]?.hex || '#4a90e2';\n-              const Icon = iconMap[voice.icon as keyof typeof iconMap] || FaBrain;\n-\n-              return (\n-                <div\n-                  key={id}\n-                  style={{\n-                    background: '#fff',\n-                    border: `2px solid ${voice.enabled ? colorHex : '#ddd'}`,\n-                    borderRadius: 12,\n-                    padding: 20,\n-                    position: 'relative',\n-                    boxShadow: voice.enabled ? '0 4px 12px rgba(0,0,0,0.1)' : '0 2px 6px rgba(0,0,0,0.05)',\n-                    transition: 'all 0.3s',\n-                    opacity: voice.enabled ? 1 : 0.6\n-                  }}\n-                  onMouseEnter={(e) => {\n-                    e.currentTarget.style.transform = 'translateY(-2px)';\n-                    e.currentTarget.style.boxShadow = voice.enabled ? '0 6px 16px rgba(0,0,0,0.15)' : '0 3px 8px rgba(0,0,0,0.08)';\n-                  }}\n-                  onMouseLeave={(e) => {\n-                    e.currentTarget.style.transform = 'translateY(0)';\n-                    e.currentTarget.style.boxShadow = voice.enabled ? '0 4px 12px rgba(0,0,0,0.1)' : '0 2px 6px rgba(0,0,0,0.05)';\n-                  }}\n-                >\n-                  {/* Delete button */}\n-                  <button\n-                    onClick={() => handleDelete(id)}\n-                    style={{\n-                      position: 'absolute',\n-                      top: 12,\n-                      right: 12,\n-                      background: 'rgba(255, 255, 255, 0.9)',\n-                      border: '1px solid #ddd',\n-                      borderRadius: 6,\n-                      width: 28,\n-                      height: 28,\n-                      display: 'flex',\n-                      alignItems: 'center',\n-                      justifyContent: 'center',\n-                      cursor: 'pointer',\n-                      fontSize: 14,\n-                      transition: 'all 0.2s'\n-                    }}\n-                    onMouseEnter={(e) => {\n-                      e.currentTarget.style.background = '#fee';\n-                      e.currentTarget.style.borderColor = '#fcc';\n-                    }}\n-                    onMouseLeave={(e) => {\n-                      e.currentTarget.style.background = 'rgba(255, 255, 255, 0.9)';\n-                      e.currentTarget.style.borderColor = '#ddd';\n-                    }}\n-                    title=\"Delete\"\n-                  >\n-                    \u00d7\n-                  </button>\n-\n-                  {/* Voice Header */}\n-                  <div style={{ display: 'flex', alignItems: 'flex-start', gap: 12, marginBottom: 16 }}>\n-                    {/* Icon Circle */}\n-                    <div style={{\n-                      width: 56,\n-                      height: 56,\n-                      borderRadius: 28,\n-                      background: `linear-gradient(135deg, ${colorHex} 0%, ${colorHex}cc 100%)`,\n-                      display: 'flex',\n-                      alignItems: 'center',\n-                      justifyContent: 'center',\n-                      color: '#fff',\n-                      flexShrink: 0,\n-                      boxShadow: `0 3px 8px ${colorHex}40`\n-                    }}>\n-                      <Icon size={28} />\n-                    </div>\n-\n-                    {/* Name + Toggle */}\n-                    <div style={{ flex: 1, minWidth: 0 }}>\n-                      <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 8 }}>\n-                        <input\n-                          type=\"checkbox\"\n-                          checked={voice.enabled}\n-                          onChange={e => handleUpdate(id, 'enabled', e.target.checked)}\n-                          style={{\n-                            width: 18,\n-                            height: 18,\n-                            cursor: 'pointer',\n-                            accentColor: colorHex\n-                          }}\n-                        />\n-                        <input\n-                          type=\"text\"\n-                          value={voice.name}\n-                          onChange={e => handleRename(id, e.target.value)}\n-                          placeholder=\"Voice Name\"\n-                          style={{\n-                            flex: 1,\n-                            border: 'none',\n-                            borderBottom: '2px solid transparent',\n-                            fontSize: 18,\n-                            fontWeight: 700,\n-                            background: 'transparent',\n-                            padding: '4px 0',\n-                            color: '#2c2c2c',\n-                            outline: 'none',\n-                            transition: 'border-color 0.2s'\n-                          }}\n-                          onFocus={(e) => {\n-                            e.currentTarget.style.borderBottomColor = colorHex;\n-                          }}\n-                          onBlur={(e) => {\n-                            e.currentTarget.style.borderBottomColor = 'transparent';\n-                          }}\n-                        />\n-                      </div>\n-\n-                      {/* Icon + Color Selectors */}\n-                      <div style={{ display: 'flex', gap: 8 }}>\n-                        <select\n-                          value={voice.icon}\n-                          onChange={e => handleUpdate(id, 'icon', e.target.value)}\n-                          style={{\n-                            flex: 1,\n-                            padding: '6px 8px',\n-                            border: '1px solid #e0e0e0',\n-                            borderRadius: 6,\n-                            background: '#f9f9f9',\n-                            fontSize: 12,\n-                            cursor: 'pointer'\n-                          }}\n-                        >\n-                          {Object.entries(ICON_LABELS).map(([name, label]) => (\n-                            <option key={name} value={name}>{label}</option>\n-                          ))}\n-                        </select>\n-                        <select\n-                          value={voice.color}\n-                          onChange={e => handleUpdate(id, 'color', e.target.value)}\n-                          style={{\n-                            flex: 1,\n-                            padding: '6px 8px',\n-                            border: '1px solid #e0e0e0',\n-                            borderRadius: 6,\n-                            background: '#f9f9f9',\n-                            fontSize: 12,\n-                            cursor: 'pointer'\n-                          }}\n-                        >\n-                          {Object.entries(COLORS).map(([name, { label }]) => (\n-                            <option key={name} value={name}>\n-                              {label}\n-                            </option>\n-                          ))}\n-                        </select>\n-                      </div>\n-                    </div>\n-                  </div>\n-\n-                  {/* System Prompt */}\n-                  <div>\n-                    <label style={{\n-                      display: 'block',\n-                      fontSize: 11,\n-                      fontWeight: 600,\n-                      color: '#666',\n-                      marginBottom: 6,\n-                      textTransform: 'uppercase',\n-                      letterSpacing: '0.5px'\n-                    }}>\n-                      Personality Prompt\n-                    </label>\n-                    <textarea\n-                      value={voice.systemPrompt}\n-                      onChange={e => handleUpdate(id, 'systemPrompt', e.target.value)}\n-                      placeholder=\"Describe this voice's personality, tone, and perspective...\"\n-                      style={{\n-                        width: '100%',\n-                        minHeight: 120,\n-                        padding: 12,\n-                        fontSize: 13,\n-                        fontFamily: 'monospace',\n-                        border: '1px solid #e0e0e0',\n-                        borderRadius: 6,\n-                        background: '#fafafa',\n-                        resize: 'vertical',\n-                        boxSizing: 'border-box',\n-                        lineHeight: 1.6,\n-                        transition: 'all 0.2s'\n-                      }}\n-                      onFocus={(e) => {\n-                        e.currentTarget.style.borderColor = colorHex;\n-                        e.currentTarget.style.background = '#fff';\n-                      }}\n-                      onBlur={(e) => {\n-                        e.currentTarget.style.borderColor = '#e0e0e0';\n-                        e.currentTarget.style.background = '#fafafa';\n-                      }}\n-                    />\n-                  </div>\n-                </div>\n-              );\n-            })}\n-          </div>\n-        )}\n-\n-        {/* META TAB */}\n-        {activeTab === 'meta' && (\n-          <div style={{ maxWidth: 800, margin: '0 auto' }}>\n-            <div style={{\n-              padding: 24,\n-              background: '#fff',\n-              border: '2px solid #d0c4b0',\n-              borderRadius: 12,\n-              boxShadow: '0 4px 12px rgba(0,0,0,0.08)'\n-            }}>\n-              <h3 style={{\n-                margin: '0 0 8px 0',\n-                fontSize: 20,\n-                fontWeight: 600,\n-                color: '#2c2c2c'\n-              }}>\n-                Meta Prompt\n-              </h3>\n-              <p style={{\n-                margin: '0 0 20px 0',\n-                fontSize: 14,\n-                color: '#666',\n-                lineHeight: 1.6\n-              }}>\n-                Global instructions applied to all voice personas. These instructions affect both voice comments and chat conversations. Use this to set a consistent tone or add context that all voices should be aware of.\n-              </p>\n-              <textarea\n-                value={metaPrompt}\n-                onChange={e => setMetaPrompt(e.target.value)}\n-                placeholder=\"e.g., Be honest and pragmatic. Prioritize mental well-being over theatrical commentary. Focus on actionable insights rather than abstract philosophizing...\"\n-                style={{\n-                  width: '100%',\n-                  minHeight: 200,\n-                  padding: 16,\n-                  fontSize: 14,\n-                  fontFamily: 'monospace',\n-                  border: '2px solid #e0e0e0',\n-                  borderRadius: 8,\n-                  background: '#fafafa',\n-                  resize: 'vertical',\n-                  boxSizing: 'border-box',\n-                  lineHeight: 1.7,\n-                  transition: 'all 0.2s'\n-                }}\n-                onFocus={(e) => {\n-                  e.currentTarget.style.borderColor = '#2c2c2c';\n-                  e.currentTarget.style.background = '#fff';\n-                }}\n-                onBlur={(e) => {\n-                  e.currentTarget.style.borderColor = '#e0e0e0';\n-                  e.currentTarget.style.background = '#fafafa';\n-                }}\n-              />\n-            </div>\n-          </div>\n-        )}\n-\n-        {/* STATES TAB */}\n-        {activeTab === 'states' && (\n-          <div style={{ maxWidth: 900, margin: '0 auto' }}>\n-            {/* Greeting Section */}\n-            <div style={{\n-              marginBottom: 24,\n-              padding: 24,\n-              background: '#fff',\n-              border: '2px solid #d0c4b0',\n-              borderRadius: 12,\n-              boxShadow: '0 4px 12px rgba(0,0,0,0.08)'\n-            }}>\n-              <h3 style={{\n-                margin: '0 0 8px 0',\n-                fontSize: 20,\n-                fontWeight: 600,\n-                color: '#2c2c2c'\n-              }}>\n-                Greeting Message\n-              </h3>\n-              <p style={{\n-                margin: '0 0 16px 0',\n-                fontSize: 14,\n-                color: '#666',\n-                lineHeight: 1.6\n-              }}>\n-                The message shown when you start writing. This appears at the top of the page.\n-              </p>\n-              <input\n-                type=\"text\"\n-                value={stateConfig.greeting}\n-                onChange={e => setStateConfig({ ...stateConfig, greeting: e.target.value })}\n-                placeholder=\"e.g., How are you feeling today?\"\n-                style={{\n-                  width: '100%',\n-                  padding: 12,\n-                  fontSize: 15,\n-                  border: '2px solid #e0e0e0',\n-                  borderRadius: 8,\n-                  background: '#fafafa',\n-                  boxSizing: 'border-box',\n-                  transition: 'all 0.2s'\n-                }}\n-                onFocus={(e) => {\n-                  e.currentTarget.style.borderColor = '#2c2c2c';\n-                  e.currentTarget.style.background = '#fff';\n-                }}\n-                onBlur={(e) => {\n-                  e.currentTarget.style.borderColor = '#e0e0e0';\n-                  e.currentTarget.style.background = '#fafafa';\n-                }}\n-              />\n-            </div>\n-\n-            {/* States List */}\n-            <div style={{\n-              padding: 24,\n-              background: '#fff',\n-              border: '2px solid #d0c4b0',\n-              borderRadius: 12,\n-              boxShadow: '0 4px 12px rgba(0,0,0,0.08)'\n-            }}>\n-              <h3 style={{\n-                margin: '0 0 8px 0',\n-                fontSize: 20,\n-                fontWeight: 600,\n-                color: '#2c2c2c'\n-              }}>\n-                User States\n-              </h3>\n-              <p style={{\n-                margin: '0 0 24px 0',\n-                fontSize: 14,\n-                color: '#666',\n-                lineHeight: 1.6\n-              }}>\n-                Define emotional states that users can select. Each state has a prompt that influences how AI voices respond.\n-              </p>\n-\n-              {/* States Grid */}\n-              <div style={{ display: 'grid', gap: 16 }}>\n-                {Object.entries(stateConfig.states).map(([id, state]) => (\n-                  <div key={id} style={{\n-                    padding: 16,\n-                    background: '#f9f9f9',\n-                    border: '2px solid #e0e0e0',\n-                    borderRadius: 8,\n-                    position: 'relative',\n-                    transition: 'all 0.2s'\n-                  }}\n-                  onMouseEnter={(e) => {\n-                    e.currentTarget.style.borderColor = '#d0c4b0';\n-                  }}\n-                  onMouseLeave={(e) => {\n-                    e.currentTarget.style.borderColor = '#e0e0e0';\n-                  }}\n-                  >\n-                    <button\n-                      onClick={() => handleDeleteState(id)}\n-                      style={{\n-                        position: 'absolute',\n-                        top: 12,\n-                        right: 12,\n-                        background: 'rgba(255, 255, 255, 0.9)',\n-                        border: '1px solid #ddd',\n-                        borderRadius: 6,\n-                        width: 28,\n-                        height: 28,\n-                        display: 'flex',\n-                        alignItems: 'center',\n-                        justifyContent: 'center',\n-                        cursor: 'pointer',\n-                        fontSize: 14,\n-                        transition: 'all 0.2s'\n-                      }}\n-                      onMouseEnter={(e) => {\n-                        e.currentTarget.style.background = '#fee';\n-                        e.currentTarget.style.borderColor = '#fcc';\n-                      }}\n-                      onMouseLeave={(e) => {\n-                        e.currentTarget.style.background = 'rgba(255, 255, 255, 0.9)';\n-                        e.currentTarget.style.borderColor = '#ddd';\n-                      }}\n-                      title=\"Delete\"\n-                    >\n-                      \u00d7\n-                    </button>\n-\n-                    <div style={{ marginBottom: 12 }}>\n-                      <label style={{\n-                        display: 'block',\n-                        fontSize: 11,\n-                        fontWeight: 600,\n-                        color: '#666',\n-                        marginBottom: 6,\n-                        textTransform: 'uppercase',\n-                        letterSpacing: '0.5px'\n-                      }}>\n-                        State Name\n-                      </label>\n-                      <input\n-                        type=\"text\"\n-                        value={state.name}\n-                        onChange={e => handleUpdateState(id, 'name', e.target.value)}\n-                        placeholder=\"e.g., Happy, Anxious, Reflective...\"\n-                        style={{\n-                          width: '100%',\n-                          padding: 10,\n-                          fontSize: 15,\n-                          fontWeight: 600,\n-                          border: '2px solid #e0e0e0',\n-                          borderRadius: 6,\n-                          background: '#fff',\n-                          boxSizing: 'border-box',\n-                          transition: 'all 0.2s'\n-                        }}\n-                        onFocus={(e) => {\n-                          e.currentTarget.style.borderColor = '#2c2c2c';\n-                        }}\n-                        onBlur={(e) => {\n-                          e.currentTarget.style.borderColor = '#e0e0e0';\n-                        }}\n-                      />\n-                    </div>\n-\n-                    <div>\n-                      <label style={{\n-                        display: 'block',\n-                        fontSize: 11,\n-                        fontWeight: 600,\n-                        color: '#666',\n-                        marginBottom: 6,\n-                        textTransform: 'uppercase',\n-                        letterSpacing: '0.5px'\n-                      }}>\n-                        State Prompt\n-                      </label>\n-                      <textarea\n-                        value={state.prompt}\n-                        onChange={e => handleUpdateState(id, 'prompt', e.target.value)}\n-                        placeholder=\"e.g., The user is feeling anxious and overthinking things. Be gentle and help them ground themselves in the present moment...\"\n-                        style={{\n-                          width: '100%',\n-                          minHeight: 80,\n-                          padding: 10,\n-                          fontSize: 13,\n-                          fontFamily: 'monospace',\n-                          border: '2px solid #e0e0e0',\n-                          borderRadius: 6,\n-                          background: '#fff',\n-                          resize: 'vertical',\n-                          boxSizing: 'border-box',\n-                          lineHeight: 1.6,\n-                          transition: 'all 0.2s'\n-                        }}\n-                        onFocus={(e) => {\n-                          e.currentTarget.style.borderColor = '#2c2c2c';\n-                        }}\n-                        onBlur={(e) => {\n-                          e.currentTarget.style.borderColor = '#e0e0e0';\n-                        }}\n-                      />\n-                    </div>\n-                  </div>\n-                ))}\n-              </div>\n-            </div>\n-          </div>\n-        )}\n-      </div>\n-    </div>\n-  );\n-}"
    }
  ]
}