*** FILE: backend/server.py ***
@@ -1188,6 +1188,168 @@ def get_default_voices():
     """Get default voice configurations"""
     return config.VOICE_ARCHETYPES
 
+# ========== Deck & Voice Management ==========
+
+class DeckCreateRequest(BaseModel):
+    name: str
+    description: str = None
+    name_zh: str = None
+    name_en: str = None
+    description_zh: str = None
+    description_en: str = None
+    icon: str = None
+    color: str = None
+
+class DeckUpdateRequest(BaseModel):
+    name: str = None
+    description: str = None
+    name_zh: str = None
+    name_en: str = None
+    description_zh: str = None
+    description_en: str = None
+    icon: str = None
+    color: str = None
+    enabled: bool = None
+    order_index: int = None
+
+class VoiceCreateRequest(BaseModel):
+    deck_id: str
+    name: str
+    system_prompt: str
+    name_zh: str = None
+    name_en: str = None
+    icon: str = None
+    color: str = None
+
+class VoiceUpdateRequest(BaseModel):
+    name: str = None
+    system_prompt: str = None
+    name_zh: str = None
+    name_en: str = None
+    icon: str = None
+    color: str = None
+    enabled: bool = None
+    order_index: int = None
+
+class VoiceForkRequest(BaseModel):
+    target_deck_id: str
+
+@app.get("/api/decks")
+def list_decks(current_user: dict = Depends(get_current_user)):
+    """Get all decks visible to user (system + user's own)"""
+    user_id = current_user['user_id']
+    decks = database.get_user_decks(user_id)
+    return {"decks": decks}
+
+@app.get("/api/decks/{deck_id}")
+def get_deck(deck_id: str, current_user: dict = Depends(get_current_user)):
+    """Get deck with all voices"""
+    user_id = current_user['user_id']
+    deck = database.get_deck_with_voices(user_id, deck_id)
+    if not deck:
+        raise HTTPException(status_code=404, detail="Deck not found")
+    return deck
+
+@app.post("/api/decks")
+def create_deck(request: DeckCreateRequest, current_user: dict = Depends(get_current_user)):
+    """Create a new user deck"""
+    user_id = current_user['user_id']
+    deck_id = database.create_deck(
+        user_id,
+        name=request.name,
+        description=request.description,
+        name_zh=request.name_zh,
+        name_en=request.name_en,
+        description_zh=request.description_zh,
+        description_en=request.description_en,
+        icon=request.icon,
+        color=request.color
+    )
+    return {"deck_id": deck_id}
+
+@app.put("/api/decks/{deck_id}")
+def update_deck(deck_id: str, request: DeckUpdateRequest, current_user: dict = Depends(get_current_user)):
+    """Update a user deck"""
+    user_id = current_user['user_id']
+
+    # Convert request to dict, exclude None values
+    updates = {k: v for k, v in request.dict().items() if v is not None}
+
+    success = database.update_deck(user_id, deck_id, updates)
+    if not success:
+        raise HTTPException(status_code=404, detail="Deck not found or permission denied")
+    return {"success": True}
+
+@app.delete("/api/decks/{deck_id}")
+def delete_deck(deck_id: str, current_user: dict = Depends(get_current_user)):
+    """Delete a user deck (cascades to voices)"""
+    user_id = current_user['user_id']
+    success = database.delete_deck(user_id, deck_id)
+    if not success:
+        raise HTTPException(status_code=404, detail="Deck not found or permission denied")
+    return {"success": True}
+
+@app.post("/api/decks/{deck_id}/fork")
+def fork_deck(deck_id: str, current_user: dict = Depends(get_current_user)):
+    """Fork a deck (usually system deck) to create user's own copy"""
+    user_id = current_user['user_id']
+    try:
+        new_deck_id = database.fork_deck(user_id, deck_id)
+        return {"deck_id": new_deck_id}
+    except ValueError as e:
+        raise HTTPException(status_code=404, detail=str(e))
+
+@app.post("/api/voices")
+def create_voice(request: VoiceCreateRequest, current_user: dict = Depends(get_current_user)):
+    """Create a new voice in a user deck"""
+    user_id = current_user['user_id']
+    try:
+        voice_id = database.create_voice(
+            user_id,
+            deck_id=request.deck_id,
+            name=request.name,
+            system_prompt=request.system_prompt,
+            name_zh=request.name_zh,
+            name_en=request.name_en,
+            icon=request.icon,
+            color=request.color
+        )
+        return {"voice_id": voice_id}
+    except ValueError as e:
+        raise HTTPException(status_code=400, detail=str(e))
+
+@app.put("/api/voices/{voice_id}")
+def update_voice(voice_id: str, request: VoiceUpdateRequest, current_user: dict = Depends(get_current_user)):
+    """Update a user voice"""
+    user_id = current_user['user_id']
+
+    # Convert request to dict, exclude None values
+    updates = {k: v for k, v in request.dict().items() if v is not None}
+
+    success = database.update_voice(user_id, voice_id, updates)
+    if not success:
+        raise HTTPException(status_code=404, detail="Voice not found or permission denied")
+    return {"success": True}
+
+@app.delete("/api/voices/{voice_id}")
+def delete_voice(voice_id: str, current_user: dict = Depends(get_current_user)):
+    """Delete a user voice"""
+    user_id = current_user['user_id']
+    success = database.delete_voice(user_id, voice_id)
+    if not success:
+        raise HTTPException(status_code=404, detail="Voice not found or permission denied")
+    return {"success": True}
+
+@app.post("/api/voices/{voice_id}/fork")
+def fork_voice(voice_id: str, request: VoiceForkRequest, current_user: dict = Depends(get_current_user)):
+    """Fork a voice to a user deck"""
+    user_id = current_user['user_id']
+    try:
+        new_voice_id = database.fork_voice(user_id, voice_id, request.target_deck_id)
+        return {"voice_id": new_voice_id}
+    except ValueError as e:
+        raise HTTPException(status_code=400, detail=str(e))
+
 # @@@ Removed /api/analyze wrapper - frontend now calls /polycli/api/trigger-sync directly
 
 # @@@ Removed /api/chat wrapper - frontend now calls /polycli/api/trigger-sync directly
@@ -1229,6 +1391,17 @@ def get_default_voices():
     print("    POST /api/reports         - Save report")
     print("  Configuration:")
     print("    GET  /api/default-voices  - Get default voice configs")
+    print("  Deck & Voice Management:")
+    print("    GET  /api/decks           - List all decks")
+    print("    GET  /api/decks/{id}      - Get deck with voices")
+    print("    POST /api/decks           - Create deck")
+    print("    PUT  /api/decks/{id}      - Update deck")
+    print("    DELETE /api/decks/{id}    - Delete deck")
+    print("    POST /api/decks/{id}/fork - Fork deck")
+    print("    POST /api/voices          - Create voice")
+    print("    PUT  /api/voices/{id}     - Update voice")
+    print("    DELETE /api/voices/{id}   - Delete voice")
+    print("    POST /api/voices/{id}/fork - Fork voice")
     print("\n  PolyCLI (AI Functions):")
     print("    /polycli                  - Control panel UI")
     print("    /polycli/api/trigger-sync - Direct sync API")
