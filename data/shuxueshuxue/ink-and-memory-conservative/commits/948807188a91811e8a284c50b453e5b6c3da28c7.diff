*** MODIFIED: .gitignore (+1/-0) ***
@@ -2,6 +2,7 @@
 backend/.venv/
 backend/models.json
 backend/.polycache/
+backend/benchmark/
 __pycache__/
 *.pyc
 

*** MODIFIED: CLAUDE.md (+16/-0) ***
@@ -182,6 +182,22 @@ Create `backend/models.json`:
 - Chinese comma (Ôºå): 0 weight (ignored)
 - Other characters: 1 weight
 
+**@@@ Quote Weight Hack (non-obvious):**
+When a user quotes a voice comment (via the quote button), the quoted text gets inserted into the editor and would normally be counted as new text, triggering unwanted energy accumulation.
+
+**Solution** (`App.tsx:241-244`):
+```typescript
+setTimeout(() => {
+  lastPollWeightRef.current = getWeightedLength(currentTextRef.current);
+  console.log(`üìù Quote inserted, updated baseline weight to ${lastPollWeightRef.current}`);
+}, 0);
+```
+
+After inserting a quote, we immediately update `lastPollWeightRef` to include the quote's weight. This "moves the baseline forward" so the next polling cycle sees no weight change from the quote. The `setTimeout(..., 0)` ensures we wait for the editor's `handleTextChange` to update `currentTextRef.current` first.
+
+Without this hack: Quote inserted ‚Üí next poll sees +50 weight ‚Üí accumulates 50 energy ‚Üí unwanted analysis
+With this hack: Quote inserted ‚Üí baseline updated ‚Üí next poll sees 0 weight change ‚Üí no energy accumulated ‚úÖ
+
 ### Stateful Voice Analysis
 - **Location**: `backend/stateful_analyzer.py`
 - **Features**:

*** MODIFIED: backend/config.py (+1/-1) ***
@@ -1,7 +1,7 @@
 """Voice archetypes configuration - inspired by Disco Elysium."""
 
 # Model to use for voice analysis
-MODEL = "gpt-4o-dou"
+MODEL = "claude-haiku-4.5"
 
 # @@@ Sparsity control
 MAX_VOICES = 5

*** MODIFIED: backend/server.py (+91/-2) ***
@@ -7,6 +7,90 @@
 from stateful_analyzer import analyze_stateful
 import config
 
+@session_def(
+    name="Chat with Voice",
+    description="Have a conversation with a specific inner voice persona",
+    params={
+        "voice_name": {"type": "str"},
+        "voice_config": {"type": "dict"},
+        "conversation_history": {"type": "list"},
+        "user_message": {"type": "str"},
+        "original_text": {"type": "str"}
+    },
+    category="Chat"
+)
+def chat_with_voice(voice_name: str, voice_config: dict, conversation_history: list, user_message: str, original_text: str = ""):
+    """
+    Chat with a specific voice persona.
+
+    Args:
+        voice_name: Name of the voice (e.g., "Logic", "Drama")
+        voice_config: Voice configuration with tagline, icon, color
+        conversation_history: Previous messages in the conversation
+        user_message: The user's new message
+
+    Returns:
+        Dictionary with assistant's response
+    """
+    print(f"\n{'='*60}")
+    print(f"üí¨ chat_with_voice() called")
+    print(f"   Voice: {voice_name}")
+    print(f"   User message: {user_message}")
+    print(f"   History length: {len(conversation_history)}")
+    print(f"{'='*60}\n")
+
+    agent = PolyAgent(id=f"voice-chat-{voice_name.lower()}")
+
+    # @@@ Ensure voice_config is a dict (defensive check)
+    if not isinstance(voice_config, dict):
+        print(f"‚ö†Ô∏è  voice_config is not a dict: {type(voice_config)}, using default")
+        voice_config = {"tagline": f"{voice_name} voice from Disco Elysium"}
+
+    # Build system prompt for this voice
+    system_prompt = f"""You are {voice_name}, an inner voice archetype from Disco Elysium.
+
+Your character: {voice_config.get('tagline', '')}
+
+Respond in character as {voice_name}. Be concise (1-3 sentences). Stay true to your archetype.
+Use the conversation context but focus on your unique perspective."""
+
+    # @@@ Add original writing area text if available
+    if original_text and original_text.strip():
+        system_prompt += f"""
+
+Context: The user is writing this text:
+---
+{original_text.strip()}
+---
+
+Your initial comment was about this text. Keep this context in mind when responding to the user's questions."""
+
+    # Build full prompt with conversation history
+    prompt = system_prompt + "\n\nConversation history:\n"
+
+    # Add conversation history
+    for msg in conversation_history:
+        role_label = "User" if msg["role"] == "user" else voice_name
+        prompt += f"\n{role_label}: {msg['content']}"
+
+    # Add user's new message
+    prompt += f"\n\nUser: {user_message}\n\n{voice_name}:"
+
+    # Get response from LLM
+    result = agent.run(prompt, model="gpt-4o-dou", cli="no-tools", tracked=True)
+
+    if not result.is_success or not result.content:
+        response = "..."
+    else:
+        response = result.content
+
+    print(f"‚úÖ Got response: {response[:100]}...")
+
+    return {
+        "response": response,
+        "voice_name": voice_name
+    }
+
 @session_def(
     name="Analyze Voices",
     description="Detect inner voices in text using Disco Elysium archetypes",
@@ -39,14 +123,19 @@ def analyze_text(text: str, session_id: str, voices: dict = None):
 
     print("Calling analyze_stateful pattern...")
     custom_voices = voices or config.VOICE_ARCHETYPES
-    result_voices = analyze_stateful(agent, text, session_id, custom_voices)
+    analysis_result = analyze_stateful(agent, text, session_id, custom_voices)
+
+    # @@@ analyze_stateful now returns dict with 'voices' and 'new_voices_added'
+    result_voices = analysis_result["voices"]
+    new_voices_added = analysis_result["new_voices_added"]
 
-    print(f"‚úÖ Got {len(result_voices)} voices")
+    print(f"‚úÖ Got {len(result_voices)} total voices ({new_voices_added} new from this LLM call)")
     for i, v in enumerate(result_voices):
         print(f"   {i+1}. {v.get('voice', 'unknown')}: {v.get('comment', '')[:50]}...")
 
     result = {
         "voices": result_voices,
+        "new_voices_added": new_voices_added,  # Frontend uses this for energy refund
         "status": "completed",
         "text_length": len(text)
     }

*** MODIFIED: backend/stateful_analyzer.py (+47/-25) ***
@@ -2,6 +2,7 @@
 """Stateful voice analyzer that tracks comments across continuous writing."""
 
 from pathlib import Path
+from typing import Optional
 from pydantic import BaseModel, Field
 from polycli import PolyAgent
 from polycli.orchestration import pattern
@@ -20,7 +21,7 @@ class VoiceAnalysis(BaseModel):
     voices: list[VoiceTrigger] = Field(description="Detected voice triggers")
 
 class SingleVoiceAnalysis(BaseModel):
-    voice: VoiceTrigger | None = Field(description="Single voice trigger", default=None)
+    voice: Optional[VoiceTrigger] = Field(description="Single voice trigger", default=None)
 
 class StatefulVoiceAnalyzer:
     """
@@ -120,16 +121,16 @@ def _enforce_density(self, new_comments: list[dict], text: str) -> list[dict]:
         return filtered
 
     @pattern
-    def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict]:
+    def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> dict:
         """
-        Analyze text and return ALL comments (existing + new).
+        Analyze text and return ALL comments (existing + new) plus metadata.
 
         Args:
             agent: PolyAgent instance
             text: Current text
 
         Returns:
-            Complete list of all comments
+            Dict with 'voices' (complete list) and 'new_voices_added' (count of new voices from this LLM call)
         """
         print(f"\n{'='*60}")
         print(f"üìä Stateful Analysis")
@@ -146,16 +147,18 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
         # Step 2: Check if we need new analysis
         if len(text.strip()) < config.MIN_TEXT_LENGTH:
             print("‚è≠Ô∏è  Text too short, returning existing comments")
-            return self.comments
+            return {"voices": self.comments, "new_voices_added": 0}
 
         # @@@ Removed debouncing - allow multiple LLM calls on same text
         # This enables energy pool to trigger multiple times and get different comments
         # The LLM prompt includes existing comments, so it will return new ones
 
         # Step 3: Build prompt with existing comments
         voice_archetypes = voices or config.VOICE_ARCHETYPES
+        # @@@ Use user-defined 'name' (e.g., "ÂêïÂ∏É") instead of key (e.g., "Composure")
+        # This prevents LLM from hallucinating Disco Elysium characters
         voice_list = "\n".join([
-            f"- {name} ({v['icon']}, {v['color']}): {v['tagline']}"
+            f"- {v.get('name', name)} ({v['icon']}, {v['color']}): {v['tagline']}"
             for name, v in voice_archetypes.items()
         ])
 
@@ -210,25 +213,24 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
                         existing_summary += f"  \"{full_sentence}\"\n\n"
                 existing_summary += "üëâ Focus your analysis on NEW/UNCOMMENTED sentences only!\n"
 
-        prompt = f"""You are analyzing internal dialogue using the voice system from Disco Elysium.
-
-In Disco Elysium, thoughts manifest as distinct inner voices - each representing a cognitive skill with its own personality and perspective. These voices interrupt, comment on, and debate each other as the protagonist thinks.
+        prompt = f"""You are analyzing internal dialogue as distinct inner voice personas.
 
 Analyze this text and identify NEW voices that want to comment:
 
 "{text}"
 
-Available voice archetypes:
+Available voice personas (THESE ARE THE ONLY VOICES YOU CAN USE - DO NOT CREATE NEW ONES):
 {voice_list}
 {existing_summary}
 
 For each NEW voice you detect:
-1. Extract a SHORT phrase that triggered it (word-for-word from the text)
+1. Extract a SHORT phrase that triggered it (**MUST be EXACT verbatim text from the user's writing, character-by-character match**)
    - The phrase should be SMALL - typically 2-6 words, the most essential/striking part
    - This phrase will be HIGHLIGHTED in the UI - keep it concise!
    - ‚úÖ Good examples: "contemplative walk", "thinking about meaning", "life and death"
    - ‚ùå Bad examples: (whole sentences, too long, not focused)
-2. Choose the matching voice archetype
+   - **CRITICAL: The phrase MUST exist EXACTLY as written in the text. Do not paraphrase, rearrange, or modify ANY characters.**
+2. Choose the matching voice persona **FROM THE AVAILABLE LIST ABOVE ONLY**
 3. Write what this voice is saying (as if the voice itself is speaking)
 4. Use the voice's designated icon and color
 
@@ -237,11 +239,12 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
 - **Sentence** = The occupation boundary (you can't comment anywhere else in that sentence)
 - Even though your phrase is short, it occupies the ENTIRE sentence it appears in
 
-IMPORTANT:
+STRICT RULES:
 - Maximum {config.MAX_VOICES} NEW voices
+- **DO NOT CREATE OR INVENT NEW VOICE NAMES** - Only use the exact voice names from the available list above
 - **It's perfectly fine to return NO comment (null) if nothing is worth commenting on**
 - Only identify clearly present voices - quality over quantity
-- Phrase must be verbatim from text and KEEP IT SHORT (2-6 words typical)
+- **Phrase MUST be EXACT verbatim substring from text** (character-by-character match, no changes allowed)
 - Each voice should be distinct
 - DO NOT comment on parts that already have comments
 - Avoid commenting too close to existing comments
@@ -273,7 +276,7 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
 
         if not result.is_success or not result.has_data():
             print("‚ùå LLM failed, returning existing comments")
-            return self.comments
+            return {"voices": self.comments, "new_voices_added": 0}
 
         # Extract voices based on schema type
         if config.SINGLE_COMMENT_MODE:
@@ -284,14 +287,25 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
 
         print(f"‚úÖ LLM returned {len(new_voices)} new comments")
 
-        # @@@ Override LLM's icon/color with actual config values, and use user-friendly name
+        # @@@ Build name ‚Üí key mapping (e.g., "ÂêïÂ∏É" ‚Üí "Composure")
+        # LLM now returns user-defined names, we need to find the corresponding key
+        name_to_key = {}
+        for key, v in voice_archetypes.items():
+            user_name = v.get("name", key)
+            name_to_key[user_name] = key
+
+        # @@@ Override LLM's icon/color with actual config values
+        # LLM returns user-defined name (e.g., "ÂêïÂ∏É"), we map back to key (e.g., "Composure")
         for v in new_voices:
-            if v and v.get("voice") in voice_archetypes:
-                archetype_key = v["voice"]
-                v["icon"] = voice_archetypes[archetype_key]["icon"]
-                v["color"] = voice_archetypes[archetype_key]["color"]
-                # Replace key with user-friendly name (e.g., "Composure" -> "Âè¶‰∏Ä‰∏™Êàë")
-                v["voice"] = voice_archetypes[archetype_key].get("name", archetype_key)
+            if v:
+                llm_voice_name = v.get("voice")
+                # Find the key for this name
+                archetype_key = name_to_key.get(llm_voice_name)
+                if archetype_key and archetype_key in voice_archetypes:
+                    v["icon"] = voice_archetypes[archetype_key]["icon"]
+                    v["color"] = voice_archetypes[archetype_key]["color"]
+                    # Keep the user-defined name (already correct from LLM)
+                    v["voice"] = llm_voice_name
 
         # Step 4: Enforce density rules
         filtered_voices = self._enforce_density(new_voices, text)
@@ -306,7 +320,11 @@ def analyze(self, agent: PolyAgent, text: str, voices: dict = None) -> list[dict
             print(f"   {i+1}. {c['voice']}: \"{c['phrase'][:30]}...\"")
         print(f"{'='*60}\n")
 
-        return self.comments
+        # @@@ Return both voices and metadata about new voices added
+        return {
+            "voices": self.comments,
+            "new_voices_added": len(filtered_voices)
+        }
 
 # @@@ Multi-user support - Session-based storage
 # Each user gets their own analyzer instance, keyed by session_id
@@ -343,8 +361,12 @@ def get_analyzer(session_id: str) -> StatefulVoiceAnalyzer:
 
     return _user_analyzers[session_id]
 
-def analyze_stateful(agent: PolyAgent, text: str, session_id: str, voices: dict = None) -> list[dict]:
-    """Analyze text using session-isolated analyzer."""
+def analyze_stateful(agent: PolyAgent, text: str, session_id: str, voices: dict = None) -> dict:
+    """Analyze text using session-isolated analyzer.
+
+    Returns:
+        Dict with 'voices' (list of all comments) and 'new_voices_added' (count of new voices from this LLM call)
+    """
     # Cleanup stale sessions before processing
     cleanup_stale_sessions()
 

*** MODIFIED: frontend/src/App.css (+10/-4) ***
@@ -16,12 +16,12 @@
 
 .book-interface {
   position: fixed;
-  top: 60px;
+  top: 48px;
   left: 0;
   right: 0;
   bottom: 0;
   display: flex;
-  background-color: #f5e6d3;
+  background-color: #f8f0e6;
   padding: 1rem 2rem 2rem 2rem;
   gap: 2rem;
   box-sizing: border-box;
@@ -100,7 +100,8 @@
   font-size: 1.2rem;
   line-height: 1.8;
   font-family: 'Excalifont', 'Xiaolai', 'Georgia', serif;
-  color: #333;
+  color: #333 !important;
+  background: #fffef9 !important;
   outline: none;
   box-sizing: border-box;
   cursor: text;
@@ -116,12 +117,17 @@
 
 .editable-text-area .ProseMirror p {
   margin: 0.5rem 0;
+  color: #333 !important;
 }
 
 .editable-text-area .ProseMirror p:first-child {
   margin-top: 0;
 }
 
+.editable-text-area .ProseMirror * {
+  color: inherit !important;
+}
+
 /* Placeholder styling */
 .editable-text-area .ProseMirror p.is-editor-empty:first-child::before {
   content: attr(data-placeholder);
@@ -203,7 +209,7 @@
   width: var(--hole-diameter);
   height: var(--hole-diameter);
   border-radius: 50%;
-  background: #f5e6d3;
+  background: #f8f0e6;
   z-index: 102;
 }
 

*** MODIFIED: frontend/src/App.tsx (+106/-37) ***
@@ -8,6 +8,7 @@ import BinderRings from './components/BinderRings'
 import VoiceSettings from './components/VoiceSettings'
 import CalendarView from './components/CalendarView'
 import AnalysisView from './components/AnalysisView'
+import AboutView from './components/AboutView'
 import LeftSidebar from './components/LeftSidebar'
 import type { VoiceTrigger } from './extensions/VoiceHighlight'
 import type { VoiceConfig } from './types/voice'
@@ -41,8 +42,9 @@ function App() {
 
   // @@@ Version logging and initialize default voices from backend
   useEffect(() => {
-    console.log('üé≠ Ink & Memory - Version: v1.2.0-energy-pool');
+    console.log('üé≠ Ink & Memory - Version: v1.2.1-energy-refund');
     console.log('‚ö° Energy pool trigger: accumulate weight changes, trigger at 40 energy');
+    console.log('‚ôªÔ∏è  Energy refund: if LLM returns no voices, refund 20 energy');
     console.log('üìê Weights: CJK=2, punctuation(.!?„ÄÇÔºÅÔºüÔºå\\n)=4, other=1');
     console.log('üîí Single-threaded: max 1 backend request at a time');
 
@@ -67,7 +69,7 @@ function App() {
     });
   }, [sessionId]);
 
-  const [currentView, setCurrentView] = useState<'writing' | 'settings' | 'calendar' | 'analysis'>('writing');
+  const [currentView, setCurrentView] = useState<'writing' | 'settings' | 'calendar' | 'analysis' | 'about'>('writing');
   const [voices, setVoices] = useState<Voice[]>([]);
   const [voiceTriggers, setVoiceTriggers] = useState<VoiceTrigger[]>([]);
   const [voiceConfigs, setVoiceConfigs] = useState<Record<string, VoiceConfig>>({});
@@ -77,6 +79,7 @@ function App() {
   const [cursorPosition, setCursorPosition] = useState<number>(0);
   const [focusedVoiceIndex, setFocusedVoiceIndex] = useState<number | undefined>(undefined);
   const [hoveredPhrase, setHoveredPhrase] = useState<string | null>(null);
+  const [quotedComments, setQuotedComments] = useState<Array<{ voiceName: string; comment: string }>>([]);
   const currentTextRef = useRef<string>('');
   const isAnalyzingRef = useRef<boolean>(false);
   const editorRef = useRef<EditableTextAreaRef>(null);
@@ -157,8 +160,13 @@ function App() {
       return;
     }
 
+    // @@@ Use text without quotes for weight calculation
+    // Atomic quote widgets are automatically excluded
+    const textForWeighting = editorRef.current?.getTextWithoutQuotes() || currentTextRef.current;
+    const currentWeight = getWeightedLength(textForWeighting);
+
+    // Still use full text for backend analysis
     const currentTextValue = currentTextRef.current;
-    const currentWeight = getWeightedLength(currentTextValue);
 
     // Calculate weight difference since last poll
     const weightDiff = currentWeight - lastPollWeightRef.current;
@@ -198,24 +206,46 @@ function App() {
         }
       }
       console.log(`üì§ Sending to backend:`, backendFormat);
-      const backendVoices = await analyzeText(currentTextValue, sessionId, backendFormat);
-      console.log(`‚úÖ Got ${backendVoices.length} voices from backend`);
+      const result = await analyzeText(currentTextValue, sessionId, backendFormat);
+      console.log(`‚úÖ Got ${result.voices.length} total voices (${result.new_voices_added} new from this LLM call)`);
+
+      // @@@ Energy refund mechanism - if LLM returns no NEW comments, refund 20 energy
+      // This prevents wasting energy when nothing interesting is detected
+      if (result.new_voices_added === 0) {
+        energyRef.current += 20;
+        console.log(`‚ôªÔ∏è  No new voices detected, refunded 20 energy ‚Üí ${energyRef.current} total`);
+      }
 
-      setVoiceTriggers(backendVoices);
-      detectVoices(currentTextValue, backendVoices);
+      setVoiceTriggers(result.voices);
+      detectVoices(currentTextValue, result.voices);
     } catch (error) {
       console.error('‚ùå Voice analysis failed:', error);
     } finally {
       isAnalyzingRef.current = false;
     }
   };
 
+  // @@@ Reset weight baseline when switching back to writing view
+  // Prevents energy accumulation from "seeing" the full text again
+  useEffect(() => {
+    if (currentView === 'writing' && editorRef.current) {
+      const textForWeighting = editorRef.current.getTextWithoutQuotes() || currentTextRef.current;
+      lastPollWeightRef.current = getWeightedLength(textForWeighting);
+      console.log(`üîÑ Switched to writing view, reset baseline weight to ${lastPollWeightRef.current}`);
+    }
+  }, [currentView]);
+
   // @@@ Polling strategy - Check every 5 seconds (stable interval)
   // Must include voiceConfigs in deps so interval uses latest config
+  // Only run when in writing view to prevent energy accumulation when switched away
   useEffect(() => {
+    if (currentView !== 'writing') {
+      return;
+    }
+
     const interval = setInterval(analyzeIfNeeded, 5000);
     return () => clearInterval(interval);
-  }, [voiceConfigs]);
+  }, [voiceConfigs, currentView]);
 
   const handleTextChange = (newText: string) => {
     setCurrentText(newText);
@@ -227,12 +257,30 @@ function App() {
 
   const handleContentChange = (newHTML: string) => {
     setCurrentHTML(newHTML);
+
+    // @@@ Update quoted comments list whenever content changes
+    if (editorRef.current?.getQuotedComments) {
+      setQuotedComments(editorRef.current.getQuotedComments());
+    }
   };
 
   const handleQuote = (voiceName: string, comment: string) => {
-    // Format as HTML blockquote for TipTap
-    const quoteHTML = `<blockquote><strong>${voiceName}</strong>: ${comment}</blockquote><p></p>`;
-    editorRef.current?.insertText(quoteHTML);
+    // @@@ Insert atomic voice quote widget
+    // Quotes are now special nodes that are automatically excluded from weight calculation
+    if (editorRef.current?.insertVoiceQuote) {
+      // Get voice config for this voice (for chat context)
+      const voiceConfig = voiceConfigs[voiceName] || {
+        tagline: `${voiceName} voice`
+      };
+
+      editorRef.current.insertVoiceQuote(voiceName, comment, {
+        tagline: voiceConfig.systemPrompt,
+        icon: voiceConfig.icon,
+        color: voiceConfig.color
+      });
+    } else {
+      console.error('insertVoiceQuote method not available on editorRef');
+    }
   };
 
   // @@@ Re-detect voices when triggers change
@@ -270,38 +318,45 @@ function App() {
             content={currentHTML}
           />
           <VoicesPanel focusedVoiceIndex={focusedVoiceIndex}>
-            {voices.map((voice, index) => {
-              // @@@ Find the trigger phrase for this voice
-              const trigger = voiceTriggers.find(t =>
-                t.voice === voice.name && t.comment === voice.text
-              );
-              const isHovered = hoveredPhrase !== null && trigger !== undefined &&
-                hoveredPhrase.toLowerCase() === trigger.phrase.toLowerCase();
-
-              return (
-                <VoiceComment
-                  key={index}
-                  voice={voice.name}
-                  text={voice.text}
-                  icon={voice.icon}
-                  color={voice.color}
-                  onQuote={() => handleQuote(voice.name, voice.text)}
-                  isHovered={isHovered}
-                />
-              );
-            })}
+            {voices
+              .filter(voice => {
+                // @@@ Hide comments that are already quoted as widgets
+                return !quotedComments.some(
+                  quoted => quoted.voiceName === voice.name && quoted.comment === voice.text
+                );
+              })
+              .map((voice, index) => {
+                // @@@ Find the trigger phrase for this voice
+                const trigger = voiceTriggers.find(t =>
+                  t.voice === voice.name && t.comment === voice.text
+                );
+                const isHovered = hoveredPhrase !== null && trigger !== undefined &&
+                  hoveredPhrase.toLowerCase() === trigger.phrase.toLowerCase();
+
+                return (
+                  <VoiceComment
+                    key={index}
+                    voice={voice.name}
+                    text={voice.text}
+                    icon={voice.icon}
+                    color={voice.color}
+                    onQuote={() => handleQuote(voice.name, voice.text)}
+                    isHovered={isHovered}
+                  />
+                );
+              })}
           </VoicesPanel>
           <BinderRings />
         </div>
       )}
       {currentView === 'settings' && (
         <div style={{
           position: 'fixed',
-          top: 60,
+          top: 48,
           left: 0,
           right: 0,
           bottom: 0,
-          background: '#f5e6d3',
+          background: '#f8f0e6',
           display: 'flex',
           overflow: 'hidden'
         }}>
@@ -314,11 +369,11 @@ function App() {
       {currentView === 'calendar' && (
         <div style={{
           position: 'fixed',
-          top: 60,
+          top: 48,
           left: 0,
           right: 0,
           bottom: 0,
-          background: '#f5e6d3',
+          background: '#f8f0e6',
           display: 'flex',
           overflow: 'hidden'
         }}>
@@ -328,17 +383,31 @@ function App() {
       {currentView === 'analysis' && (
         <div style={{
           position: 'fixed',
-          top: 60,
+          top: 48,
           left: 0,
           right: 0,
           bottom: 0,
-          background: '#f5e6d3',
+          background: '#f8f0e6',
           display: 'flex',
           overflow: 'hidden'
         }}>
           <AnalysisView />
         </div>
       )}
+      {currentView === 'about' && (
+        <div style={{
+          position: 'fixed',
+          top: 48,
+          left: 0,
+          right: 0,
+          bottom: 0,
+          background: '#f8f0e6',
+          display: 'flex',
+          overflow: 'hidden'
+        }}>
+          <AboutView />
+        </div>
+      )}
     </>
   );
 }

*** MODIFIED: frontend/src/api/voiceApi.ts (+53/-4) ***
@@ -22,14 +22,17 @@ interface StatusResponse {
   exec_id: string;
   status: 'running' | 'completed' | 'failed';
   result?: {
-    voices: Array<{
+    voices?: Array<{
       phrase: string;
       voice: string;
       comment: string;
       icon: string;
       color: string;
     }>;
-    status: string;
+    new_voices_added?: number;  // @@@ Number of new voices from this LLM call
+    status?: string;
+    response?: string;  // For chat responses
+    voice_name?: string;  // For chat responses
   };
   error?: string;
 }
@@ -94,10 +97,56 @@ export async function getAnalysisResult(exec_id: string): Promise<StatusResponse
 }
 
 /**
- * Analyze text and return voices (all-in-one)
+ * Analyze text and return voices with metadata (all-in-one)
  */
 export async function analyzeText(text: string, sessionId: string, voices?: any) {
   const exec_id = await triggerAnalysis(text, sessionId, voices);
   const result = await getAnalysisResult(exec_id);
-  return result?.voices || [];
+  // @@@ Return both voices and new_voices_added for energy refund mechanism
+  return {
+    voices: result?.voices || [],
+    new_voices_added: result?.new_voices_added ?? 0
+  };
+}
+
+/**
+ * Chat with a voice persona
+ */
+export async function chatWithVoice(
+  voiceName: string,
+  voiceConfig: any,
+  conversationHistory: Array<{ role: string; content: string }>,
+  userMessage: string,
+  originalText?: string
+): Promise<string> {
+  console.log('üí¨ Sending chat request to backend...');
+
+  // Trigger chat session
+  const response = await fetch(`${API_BASE}/api/trigger`, {
+    method: 'POST',
+    headers: { 'Content-Type': 'application/json' },
+    body: JSON.stringify({
+      session_id: 'chat_with_voice',
+      params: {
+        voice_name: voiceName,
+        voice_config: voiceConfig,
+        conversation_history: conversationHistory,
+        user_message: userMessage,
+        original_text: originalText || ''
+      }
+    })
+  });
+
+  const data: TriggerResponse = await response.json();
+  if (!data.success) {
+    throw new Error('Failed to trigger chat');
+  }
+
+  console.log('‚úÖ Chat triggered, exec_id:', data.exec_id);
+
+  // Poll for result
+  const result = await getAnalysisResult(data.exec_id);
+  console.log('‚úÖ Got chat response:', result);
+
+  return result?.response || 'Sorry, I could not respond.';
 }

*** ADDED: frontend/src/components/AboutView.tsx (+268/-0) ***
@@ -0,0 +1,268 @@
+export default function AboutView() {
+  return (
+    <div style={{
+      flex: 1,
+      display: 'flex',
+      justifyContent: 'center',
+      padding: '60px 40px 120px 40px',
+      overflow: 'auto'
+    }}>
+      <div style={{
+        maxWidth: 800,
+        width: '100%'
+      }}>
+        {/* Header */}
+        <div style={{
+          marginBottom: 48,
+          textAlign: 'center'
+        }}>
+          <h1 style={{
+            fontSize: 42,
+            fontWeight: 700,
+            color: '#2c2c2c',
+            fontFamily: 'Georgia, "Times New Roman", serif',
+            marginBottom: 16,
+            letterSpacing: '-0.5px'
+          }}>
+            <span style={{ fontStyle: 'italic' }}>I</span>nk & <span style={{ fontStyle: 'italic' }}>M</span>emory
+          </h1>
+          <p style={{
+            fontSize: 18,
+            color: '#666',
+            lineHeight: 1.6,
+            fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+          }}>
+            A reflective writing companion that helps you capture thoughts and memories
+          </p>
+        </div>
+
+        {/* About Section */}
+        <section style={{ marginBottom: 48 }}>
+          <h2 style={{
+            fontSize: 24,
+            fontWeight: 600,
+            color: '#2c2c2c',
+            marginBottom: 16,
+            fontFamily: 'Georgia, "Times New Roman", serif'
+          }}>
+            About the Project
+          </h2>
+          <p style={{
+            fontSize: 16,
+            color: '#555',
+            lineHeight: 1.8,
+            marginBottom: 16,
+            fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+          }}>
+            Ink & Memory is an experimental writing tool that brings multiple "voices" to your writing process.
+            As you write, AI-powered personas inspired by Disco Elysium provide commentary, insights, and
+            alternative perspectives on your thoughts.
+          </p>
+          <p style={{
+            fontSize: 16,
+            color: '#555',
+            lineHeight: 1.8,
+            fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+          }}>
+            The system analyzes your writing in real-time and generates contextual comments from different
+            archetypal voices‚ÄîLogic, Empathy, Drama, Rhetoric, and more. These voices don't just respond
+            to what you write; they help you think differently about it.
+          </p>
+        </section>
+
+        {/* Team Section */}
+        <section style={{ marginBottom: 48 }}>
+          <h2 style={{
+            fontSize: 24,
+            fontWeight: 600,
+            color: '#2c2c2c',
+            marginBottom: 16,
+            fontFamily: 'Georgia, "Times New Roman", serif'
+          }}>
+            The Team
+          </h2>
+          <div style={{
+            background: 'rgba(255, 255, 255, 0.5)',
+            border: '1px solid #d0c4b0',
+            borderRadius: 8,
+            padding: 24
+          }}>
+            <div style={{ marginBottom: 20 }}>
+              <div style={{
+                fontSize: 18,
+                fontWeight: 600,
+                color: '#2c2c2c',
+                marginBottom: 4,
+                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+              }}>
+                Lexical Mathical
+              </div>
+              <div style={{
+                fontSize: 14,
+                color: '#666',
+                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+              }}>
+                Creator & Developer
+              </div>
+            </div>
+            <p style={{
+              fontSize: 15,
+              color: '#555',
+              lineHeight: 1.6,
+              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+            }}>
+              A solo developer exploring the intersection of AI, writing tools, and reflective thinking.
+            </p>
+          </div>
+        </section>
+
+        {/* Timeline Section */}
+        <section style={{ marginBottom: 48 }}>
+          <h2 style={{
+            fontSize: 24,
+            fontWeight: 600,
+            color: '#2c2c2c',
+            marginBottom: 24,
+            fontFamily: 'Georgia, "Times New Roman", serif'
+          }}>
+            Development Timeline
+          </h2>
+          <div style={{ position: 'relative', paddingLeft: 32 }}>
+            {/* Timeline line */}
+            <div style={{
+              position: 'absolute',
+              left: 7,
+              top: 8,
+              bottom: 8,
+              width: 2,
+              background: '#d0c4b0'
+            }} />
+
+            {/* Timeline items */}
+            {[
+              {
+                version: 'v1.0.0',
+                date: 'Oct 2025',
+                title: 'Project Start',
+                description: 'Core writing interface with voice commentary system'
+              },
+              {
+                version: 'v1.1.0',
+                date: 'Oct 2025',
+                title: 'Voice Customization',
+                description: 'Added settings panel for customizing voice personas'
+              },
+              {
+                version: 'v1.2.0',
+                date: 'Oct 2025',
+                title: 'Energy Pool System',
+                description: 'Introduced weighted character counting and energy-based triggering'
+              },
+              {
+                version: 'v1.3.0',
+                date: 'Oct 2025',
+                title: 'Calendar & Analysis',
+                description: 'Added calendar view for memory browsing and analysis tools'
+              }
+            ].map((item, index) => (
+              <div key={index} style={{
+                position: 'relative',
+                marginBottom: 32,
+                paddingLeft: 8
+              }}>
+                {/* Timeline dot */}
+                <div style={{
+                  position: 'absolute',
+                  left: -28,
+                  top: 4,
+                  width: 10,
+                  height: 10,
+                  borderRadius: 5,
+                  background: '#2c2c2c',
+                  border: '2px solid #f8f0e6'
+                }} />
+
+                <div style={{
+                  fontSize: 12,
+                  color: '#888',
+                  marginBottom: 4,
+                  fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                }}>
+                  {item.date} ‚Ä¢ {item.version}
+                </div>
+                <div style={{
+                  fontSize: 16,
+                  fontWeight: 600,
+                  color: '#2c2c2c',
+                  marginBottom: 4,
+                  fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                }}>
+                  {item.title}
+                </div>
+                <div style={{
+                  fontSize: 14,
+                  color: '#666',
+                  lineHeight: 1.5,
+                  fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                }}>
+                  {item.description}
+                </div>
+              </div>
+            ))}
+          </div>
+        </section>
+
+        {/* Links Section */}
+        <section style={{ marginBottom: 0 }}>
+          <h2 style={{
+            fontSize: 24,
+            fontWeight: 600,
+            color: '#2c2c2c',
+            marginBottom: 16,
+            fontFamily: 'Georgia, "Times New Roman", serif'
+          }}>
+            Links
+          </h2>
+          <div style={{ display: 'flex', gap: 12, flexWrap: 'wrap' }}>
+            <a
+              href="https://github.com/shuxueshuxue/ink-and-memory"
+              target="_blank"
+              rel="noopener noreferrer"
+              style={{
+                display: 'inline-flex',
+                alignItems: 'center',
+                gap: 8,
+                padding: '12px 20px',
+                background: 'rgba(255, 255, 255, 0.5)',
+                border: '1px solid #d0c4b0',
+                borderRadius: 8,
+                textDecoration: 'none',
+                color: '#2c2c2c',
+                fontSize: 15,
+                fontWeight: 500,
+                transition: 'all 0.2s',
+                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+              }}
+              onMouseEnter={e => {
+                e.currentTarget.style.background = 'rgba(255, 255, 255, 0.8)';
+                e.currentTarget.style.borderColor = '#b0a490';
+              }}
+              onMouseLeave={e => {
+                e.currentTarget.style.background = 'rgba(255, 255, 255, 0.5)';
+                e.currentTarget.style.borderColor = '#d0c4b0';
+              }}
+            >
+              <svg height="18" width="18" viewBox="0 0 16 16" fill="currentColor">
+                <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
+              </svg>
+              GitHub Repository
+            </a>
+          </div>
+        </section>
+
+        {/* Bottom spacer */}
+        <div style={{ height: 80 }} />
+      </div>
+    </div>
+  );
+}

*** MODIFIED: frontend/src/components/AnalysisView.tsx (+15/-11) ***
@@ -22,31 +22,35 @@ export default function AnalysisView() {
       {/* Left sidebar - Page tabs */}
       <div style={{
         width: 200,
-        background: '#fffef9',
-        alignSelf: 'flex-start',
-        borderTop: '1px solid #d0c4b0',
-        borderBottom: '1px solid #d0c4b0'
+        background: 'transparent',
+        alignSelf: 'stretch',
+        paddingTop: '1rem',
+        borderRight: '1px solid #d0c4b0'
       }}>
         {pages.map(page => (
           <div
             key={page.id}
             onClick={() => setCurrentPage(page.id)}
             style={{
-              padding: '1rem 1.5rem',
+              padding: '0.75rem 1.5rem',
               cursor: 'pointer',
-              background: currentPage === page.id ? '#f5e6d3' : 'transparent',
-              borderLeft: currentPage === page.id ? '4px solid #8b7355' : '4px solid transparent',
+              background: currentPage === page.id ? 'rgba(44, 44, 44, 0.05)' : 'transparent',
+              borderLeft: currentPage === page.id ? '3px solid #333' : '3px solid transparent',
               fontWeight: currentPage === page.id ? 600 : 400,
-              color: currentPage === page.id ? '#333' : '#666',
-              transition: 'all 0.2s'
+              color: currentPage === page.id ? '#333' : '#888',
+              transition: 'all 0.2s',
+              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
+              fontSize: 14
             }}
             onMouseEnter={e => {
               if (currentPage !== page.id) {
-                e.currentTarget.style.background = '#f9f5ed';
+                e.currentTarget.style.color = '#555';
+                e.currentTarget.style.background = 'rgba(44, 44, 44, 0.03)';
               }
             }}
             onMouseLeave={e => {
               if (currentPage !== page.id) {
+                e.currentTarget.style.color = '#888';
                 e.currentTarget.style.background = 'transparent';
               }
             }}
@@ -61,7 +65,7 @@ export default function AnalysisView() {
         flex: 1,
         padding: '2rem',
         overflowY: 'auto',
-        background: '#f5e6d3'
+        background: '#f8f0e6'
       }}>
         {currentPage === 0 && <Page0StickyNotes />}
         {currentPage === 1 && <PlaceholderPage title="Ë°å‰∏∫Ê®°ÂºèÂàÜÊûê" />}

*** MODIFIED: frontend/src/components/EditableTextArea.tsx (+79/-2) ***
@@ -3,6 +3,7 @@ import { useEffect, forwardRef, useImperativeHandle } from 'react';
 import StarterKit from '@tiptap/starter-kit';
 import Placeholder from '@tiptap/extension-placeholder';
 import { VoiceHighlight, type VoiceTrigger } from '../extensions/VoiceHighlight';
+import VoiceQuote from '../extensions/VoiceQuote';
 
 interface EditableTextAreaProps {
   onChange: (text: string) => void;
@@ -15,6 +16,11 @@ interface EditableTextAreaProps {
 
 export interface EditableTextAreaRef {
   insertText: (text: string) => void;
+  insertVoiceQuote: (voiceName: string, comment: string, voiceConfig?: any) => void;
+  getTextWithoutQuotes: () => string;
+  getQuotedComments: () => Array<{ voiceName: string; comment: string }>;
+  getJSON: () => any;
+  setJSON: (json: any) => void;
 }
 
 const EditableTextArea = forwardRef<EditableTextAreaRef, EditableTextAreaProps>(
@@ -30,7 +36,8 @@ const EditableTextArea = forwardRef<EditableTextAreaRef, EditableTextAreaProps>(
         VoiceHighlight.configure({
           triggers,
           onPhraseHover
-        })
+        }),
+        VoiceQuote
       ],
       content: content || '',
       onUpdate: ({ editor }) => {
@@ -44,6 +51,13 @@ const EditableTextArea = forwardRef<EditableTextAreaRef, EditableTextAreaProps>(
       autofocus: true,
     });
 
+    // @@@ Expose editor to window for debugging
+    useEffect(() => {
+      if (editor) {
+        (window as any).__editor = editor;
+      }
+    }, [editor]);
+
     // @@@ Dynamic trigger updates - Update highlights when triggers change
     useEffect(() => {
       if (editor && editor.isEditable) {
@@ -65,13 +79,76 @@ const EditableTextArea = forwardRef<EditableTextAreaRef, EditableTextAreaProps>(
       }
     }, [onPhraseHover, editor]);
 
-    // Expose insertText method to parent component
+    // Expose methods to parent component
     useImperativeHandle(ref, () => ({
       insertText: (text: string) => {
         if (editor) {
           // Insert text at current cursor position
           editor.chain().focus().insertContent(text).run();
         }
+      },
+      insertVoiceQuote: (voiceName: string, comment: string, voiceConfig?: any) => {
+        if (editor) {
+          // @@@ Generate unique ID for this widget (for conversation tracking)
+          const widgetId = `widget_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
+
+          // Insert atomic voice quote widget
+          editor.chain().focus().insertContent({
+            type: 'voiceQuote',
+            attrs: {
+              widgetId,
+              voiceName,
+              comment,
+              timestamp: Date.now(),
+              voiceConfig: voiceConfig || {}
+            }
+          }).run();
+        }
+      },
+      getTextWithoutQuotes: () => {
+        if (!editor) return '';
+
+        // @@@ Extract text excluding voice quote nodes
+        let textWithoutQuotes = '';
+        editor.state.doc.descendants((node) => {
+          // Skip voice quote nodes entirely
+          if (node.type.name === 'voiceQuote') {
+            return false;
+          }
+          // Collect text from other nodes
+          if (node.isText) {
+            textWithoutQuotes += node.text;
+          }
+          return true;
+        });
+
+        return textWithoutQuotes;
+      },
+      getQuotedComments: () => {
+        if (!editor) return [];
+
+        // @@@ Extract all quoted comments from voice quote widgets
+        const quotedComments: Array<{ voiceName: string; comment: string }> = [];
+        editor.state.doc.descendants((node) => {
+          if (node.type.name === 'voiceQuote') {
+            quotedComments.push({
+              voiceName: node.attrs.voiceName,
+              comment: node.attrs.comment
+            });
+          }
+        });
+
+        return quotedComments;
+      },
+      getJSON: () => {
+        if (!editor) return null;
+        // @@@ JSON is the proper format for persistence (not HTML)
+        return editor.getJSON();
+      },
+      setJSON: (json: any) => {
+        if (!editor) return;
+        // @@@ Restore from JSON (proper way, not HTML)
+        editor.commands.setContent(json);
       }
     }), [editor]);
 

*** MODIFIED: frontend/src/components/LeftSidebar.tsx (+169/-57) ***
@@ -1,22 +1,26 @@
 interface Props {
-  currentView: 'writing' | 'settings' | 'calendar' | 'analysis';
-  onViewChange: (view: 'writing' | 'settings' | 'calendar' | 'analysis') => void;
+  currentView: 'writing' | 'settings' | 'calendar' | 'analysis' | 'about';
+  onViewChange: (view: 'writing' | 'settings' | 'calendar' | 'analysis' | 'about') => void;
 }
 
 export default function LeftSidebar({ currentView, onViewChange }: Props) {
   const buttonStyle = (isActive: boolean) => ({
-    width: 40,
-    height: 40,
-    borderRadius: '50%',
-    border: isActive ? '2px solid #333' : '1px solid #ccc',
-    background: isActive ? '#fffef9' : '#fff',
-    fontSize: 20,
+    height: '100%',
+    padding: '0 20px',
+    border: 'none',
+    background: isActive ? 'rgba(44, 44, 44, 0.08)' : 'transparent',
+    fontSize: 14,
+    fontWeight: isActive ? 600 : 400,
     cursor: 'pointer',
     display: 'flex',
     alignItems: 'center',
     justifyContent: 'center',
     transition: 'all 0.2s',
-    boxShadow: isActive ? '0 4px 8px rgba(0,0,0,0.15)' : '0 2px 4px rgba(0,0,0,0.1)'
+    color: isActive ? '#2c2c2c' : '#888',
+    position: 'relative' as const,
+    borderBottom: isActive ? '3px solid #2c2c2c' : '3px solid transparent',
+    fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',
+    letterSpacing: '-0.2px'
   });
 
   return (
@@ -25,78 +29,186 @@ export default function LeftSidebar({ currentView, onViewChange }: Props) {
       left: 0,
       top: 0,
       right: 0,
-      height: 60,
-      background: '#f5e6d3',
+      height: 48,
+      background: '#f8f0e6',
+      borderBottom: '1px solid #d0c4b0',
       display: 'flex',
       flexDirection: 'row',
       alignItems: 'center',
-      padding: '0 16px',
-      gap: 12,
+      padding: '0 24px',
+      gap: 8,
       zIndex: 999
     }}>
-      <button
-        onClick={() => onViewChange('writing')}
-        style={buttonStyle(currentView === 'writing')}
-        title="Writing"
-      >
-        ‚úèÔ∏è
-      </button>
+      <div style={{
+        display: 'flex',
+        alignItems: 'center',
+        marginRight: 40,
+        fontSize: 17,
+        fontFamily: 'Georgia, "Times New Roman", serif',
+        letterSpacing: '-0.2px'
+      }}>
+        <span style={{
+          fontSize: 20,
+          fontWeight: 700,
+          color: '#2c2c2c',
+          fontStyle: 'italic'
+        }}>I</span>
+        <span style={{
+          fontWeight: 400,
+          color: '#2c2c2c'
+        }}>nk & </span>
+        <span style={{
+          fontSize: 20,
+          fontWeight: 700,
+          color: '#2c2c2c',
+          fontStyle: 'italic'
+        }}>M</span>
+        <span style={{
+          fontWeight: 400,
+          color: '#2c2c2c'
+        }}>emory</span>
+      </div>
+
+      <div style={{
+        display: 'flex',
+        height: '100%',
+        gap: 0
+      }}>
+        <button
+          onClick={() => onViewChange('writing')}
+          style={buttonStyle(currentView === 'writing')}
+          title="Writing"
+          onMouseEnter={e => {
+            if (currentView !== 'writing') {
+              e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';
+            }
+          }}
+          onMouseLeave={e => {
+            if (currentView !== 'writing') {
+              e.currentTarget.style.background = 'transparent';
+            }
+          }}
+        >
+          Writing
+        </button>
+
+        <button
+          onClick={() => onViewChange('calendar')}
+          style={buttonStyle(currentView === 'calendar')}
+          title="Calendar"
+          onMouseEnter={e => {
+            if (currentView !== 'calendar') {
+              e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';
+            }
+          }}
+          onMouseLeave={e => {
+            if (currentView !== 'calendar') {
+              e.currentTarget.style.background = 'transparent';
+            }
+          }}
+        >
+          Calendar
+        </button>
+
+        <button
+          onClick={() => onViewChange('analysis')}
+          style={buttonStyle(currentView === 'analysis')}
+          title="Analysis"
+          onMouseEnter={e => {
+            if (currentView !== 'analysis') {
+              e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';
+            }
+          }}
+          onMouseLeave={e => {
+            if (currentView !== 'analysis') {
+              e.currentTarget.style.background = 'transparent';
+            }
+          }}
+        >
+          Analysis
+        </button>
+
+        <button
+          onClick={() => onViewChange('about')}
+          style={buttonStyle(currentView === 'about')}
+          title="About"
+          onMouseEnter={e => {
+            if (currentView !== 'about') {
+              e.currentTarget.style.background = 'rgba(44, 44, 44, 0.04)';
+            }
+          }}
+          onMouseLeave={e => {
+            if (currentView !== 'about') {
+              e.currentTarget.style.background = 'transparent';
+            }
+          }}
+        >
+          About
+        </button>
+      </div>
+
+      <div style={{ flex: 1 }} />
 
       <button
         onClick={() => onViewChange('settings')}
-        style={buttonStyle(currentView === 'settings')}
+        style={{
+          width: 28,
+          height: 28,
+          borderRadius: 6,
+          display: 'flex',
+          alignItems: 'center',
+          justifyContent: 'center',
+          background: currentView === 'settings' ? 'rgba(0, 0, 0, 0.08)' : 'transparent',
+          border: 'none',
+          cursor: 'pointer',
+          transition: 'all 0.2s',
+          color: '#666',
+          fontSize: 16
+        }}
+        onMouseEnter={e => {
+          if (currentView !== 'settings') {
+            e.currentTarget.style.background = 'rgba(0, 0, 0, 0.05)';
+          }
+        }}
+        onMouseLeave={e => {
+          if (currentView !== 'settings') {
+            e.currentTarget.style.background = 'transparent';
+          }
+        }}
         title="Settings"
       >
-        ‚öôÔ∏è
-      </button>
-
-      <button
-        onClick={() => onViewChange('calendar')}
-        style={buttonStyle(currentView === 'calendar')}
-        title="Calendar"
-      >
-        üìÖ
+        <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
+          <path d="M17.502 10c0 .34-.03.66-.07.98l2.11 1.65c.19.15.24.42.12.64l-2 3.46c-.12.22-.39.3-.61.22l-2.49-1c-.52.4-1.08.73-1.69.98l-.38 2.65c-.03.24-.24.42-.49.42h-4c-.25 0-.46-.18-.49-.42l-.38-2.65c-.61-.25-1.17-.59-1.69-.98l-2.49 1c-.23.09-.49 0-.61-.22l-2-3.46c-.13-.22-.07-.49.12-.64l2.11-1.65c-.04-.32-.07-.65-.07-.98 0-.33.03-.66.07-.98L.93 7.37c-.19-.15-.24-.42-.12-.64l2-3.46c.12-.22.39-.3.61-.22l2.49 1c.52-.4 1.08-.73 1.69-.98l.38-2.65C7.01.18 7.22 0 7.47 0h4c.25 0 .46.18.49.42l.38 2.65c.61.25 1.17.59 1.69.98l2.49-1c.23-.09.49 0 .61.22l2 3.46c.12.22.07.49-.12.64l-2.11 1.65c.04.32.07.65.07.98zm-7.5 3c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"/>
+        </svg>
       </button>
 
       <button
-        onClick={() => onViewChange('analysis')}
-        style={buttonStyle(currentView === 'analysis')}
-        title="Analysis"
-      >
-        üìä
-      </button>
-
-      <a
-        href="https://github.com/shuxueshuxue/ink-and-memory"
-        target="_blank"
-        rel="noopener noreferrer"
         style={{
-          width: 40,
-          height: 40,
-          borderRadius: '50%',
+          width: 28,
+          height: 28,
+          borderRadius: 14,
           display: 'flex',
           alignItems: 'center',
           justifyContent: 'center',
-          background: '#fff',
-          border: '1px solid #ccc',
-          boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
+          background: '#4CAF50',
+          border: 'none',
+          cursor: 'pointer',
           transition: 'all 0.2s',
-          fontSize: 20,
-          textDecoration: 'none'
+          color: '#fff',
+          fontSize: 12,
+          fontWeight: 600,
+          fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'
         }}
         onMouseEnter={e => {
-          e.currentTarget.style.transform = 'scale(1.1)';
-          e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
+          e.currentTarget.style.background = '#45a049';
         }}
         onMouseLeave={e => {
-          e.currentTarget.style.transform = 'scale(1)';
-          e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
+          e.currentTarget.style.background = '#4CAF50';
         }}
+        title="User Profile"
       >
-        <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor">
-          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
-        </svg>
-      </a>
+        U
+      </button>
     </div>
   );
 }

*** MODIFIED: frontend/src/components/VoiceComment.tsx (+26/-35) ***
@@ -1,3 +1,4 @@
+import { useState } from 'react';
 import { FaBrain, FaHeart, FaQuestion, FaCloud, FaTheaterMasks, FaEye, FaFistRaised, FaLightbulb, FaShieldAlt, FaWind, FaFire, FaCompass } from 'react-icons/fa';
 
 interface VoiceCommentProps {
@@ -35,61 +36,51 @@ const colorMap: Record<string, { background: string; border: string }> = {
 export default function VoiceComment({ voice, text, icon, color, onQuote, isHovered }: VoiceCommentProps) {
   const Icon = iconMap[icon as keyof typeof iconMap];
   const colors = colorMap[color] || { background: '#f0f0f0', border: '#ccc' };
+  const [isLocalHovered, setIsLocalHovered] = useState(false);
+
+  // Combined hover state (from parent highlighting OR local hover)
+  const showHoverEffect = isHovered || isLocalHovered;
 
   return (
     <div
-      className={`voice-comment ${isHovered ? 'hovered' : ''}`}
+      className={`voice-comment ${showHoverEffect ? 'hovered' : ''}`}
+      onMouseEnter={() => setIsLocalHovered(true)}
+      onMouseLeave={() => setIsLocalHovered(false)}
+      onClick={onQuote}
       style={{
         backgroundColor: colors.background,
         borderColor: colors.border,
         position: 'relative',
-        transform: isHovered ? 'scale(1.02)' : 'scale(1)',
-        boxShadow: isHovered ? '0 4px 12px rgba(0,0,0,0.15)' : 'none',
+        transform: showHoverEffect ? 'scale(1.02)' : 'scale(1)',
+        boxShadow: showHoverEffect ? '0 4px 12px rgba(0,0,0,0.15)' : 'none',
         transition: 'all 0.2s ease',
-        borderWidth: isHovered ? '2px' : '4px',
+        borderWidth: showHoverEffect ? '2px' : '4px',
+        cursor: onQuote ? 'pointer' : 'default',
       }}
     >
       <div className="voice-header">
         {Icon && <Icon className="voice-icon" />}
         <strong>{voice}:</strong>
       </div>
       <div className="voice-text">{text}</div>
-      {onQuote && (
-        <button
-          onClick={onQuote}
+
+      {/* Show "Click to reply" hint on hover */}
+      {onQuote && isLocalHovered && (
+        <div
           style={{
             position: 'absolute',
-            top: 8,
+            bottom: 8,
             right: 8,
-            background: 'rgba(255, 255, 255, 0.9)',
-            border: 'none',
-            borderRadius: '50%',
-            width: 28,
-            height: 28,
-            fontSize: 18,
-            fontWeight: 'bold',
-            cursor: 'pointer',
-            color: '#666',
-            opacity: 0,
-            transition: 'all 0.2s',
-            display: 'flex',
-            alignItems: 'center',
-            justifyContent: 'center',
-            boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
-          }}
-          onMouseEnter={e => {
-            e.currentTarget.style.opacity = '1';
-            e.currentTarget.style.transform = 'scale(1.1)';
-          }}
-          onMouseLeave={e => {
-            e.currentTarget.style.opacity = '0';
-            e.currentTarget.style.transform = 'scale(1)';
+            fontSize: 11,
+            color: '#888',
+            fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
+            fontStyle: 'italic',
+            pointerEvents: 'none',
+            opacity: 0.8
           }}
-          title="ÂºïÁî®Âà∞ÁºñËæëÂô®"
-          className="quote-button"
         >
-          "
-        </button>
+          Click to reply
+        </div>
       )}
     </div>
   );

*** MODIFIED: frontend/src/components/VoiceSettings.tsx (+3/-4) ***
@@ -109,9 +109,8 @@ export default function VoiceSettings({ defaultVoices, onSave }: Props) {
   };
 
   return (
-    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', background: '#f5e6d3', overflow: 'hidden' }}>
-      <div style={{ padding: '20px 32px', borderBottom: '1px solid #d0c4b0', background: '#f5e6d3', flexShrink: 0 }}>
-        <h2 style={{ margin: '0 0 16px 0', color: '#333', fontSize: 24 }}>Voice Settings</h2>
+    <div style={{ flex: 1, display: 'flex', flexDirection: 'column', background: '#f8f0e6', overflow: 'hidden' }}>
+      <div style={{ padding: '20px 32px', background: '#f8f0e6', flexShrink: 0 }}>
         <div style={{ display: 'flex', gap: 8 }}>
           <button onClick={handleAdd} style={{ padding: '6px 12px', border: '1px solid #ccc', background: '#fffef9', borderRadius: 4, cursor: 'pointer' }}>+ Add</button>
           <button onClick={handleImport} style={{ padding: '6px 12px', border: '1px solid #ccc', background: '#fffef9', borderRadius: 4, cursor: 'pointer' }}>Import</button>
@@ -134,7 +133,7 @@ export default function VoiceSettings({ defaultVoices, onSave }: Props) {
           </button>
         </div>
       </div>
-      <div style={{ flex: 1, overflowY: 'auto', padding: 32, display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: 20, alignContent: 'start', background: '#f5e6d3' }}>
+      <div style={{ flex: 1, overflowY: 'auto', padding: 32, display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(320px, 1fr))', gap: 20, alignContent: 'start', background: '#f8f0e6' }}>
         {Object.entries(voices).map(([id, voice]) => (
           <div key={id} style={{ padding: 12, border: '1px solid #d0c4b0', borderRadius: 4, position: 'relative', background: '#fffef9' }}>
             <button

*** ADDED: frontend/src/extensions/VoiceQuote.tsx (+363/-0) ***
@@ -0,0 +1,363 @@
+import { Node, mergeAttributes } from '@tiptap/core';
+import { ReactNodeViewRenderer, NodeViewWrapper } from '@tiptap/react';
+import { Node as ProseMirrorNode } from '@tiptap/pm/model';
+import { useState, useEffect } from 'react';
+import { DocumentStorage } from '../utils/documentStorage';
+
+interface Message {
+  role: 'user' | 'assistant';
+  content: string;
+  timestamp: number;
+}
+
+// @@@ Singleton storage instance
+const storage = new DocumentStorage();
+
+// @@@ React component for rendering the quote widget with chat
+function VoiceQuoteView({ node, deleteNode, editor }: { node: ProseMirrorNode; deleteNode: () => void; editor: any }) {
+  const { voiceName, comment, timestamp, widgetId } = node.attrs;
+  const [isHovered, setIsHovered] = useState(false);
+  const [inputText, setInputText] = useState('');
+  const [isLoading, setIsLoading] = useState(false);
+
+  // @@@ Load conversation from storage, or initialize with first message
+  const [messages, setMessages] = useState<Message[]>(() => {
+    const saved = storage.getConversation(widgetId);
+    return saved.length > 0 ? saved : [{ role: 'assistant', content: comment, timestamp }];
+  });
+
+  // @@@ Save conversation whenever messages change
+  useEffect(() => {
+    if (messages.length > 0) {
+      storage.updateConversation(widgetId, messages);
+    }
+  }, [messages, widgetId]);
+
+  const handleSendMessage = async () => {
+    if (!inputText.trim() || isLoading) return;
+
+    const userMessage: Message = {
+      role: 'user',
+      content: inputText,
+      timestamp: Date.now()
+    };
+
+    setMessages(prev => [...prev, userMessage]);
+    setInputText('');
+    setIsLoading(true);
+
+    try {
+      // @@@ Call backend chat API with full conversation history
+      const { chatWithVoice } = await import('../api/voiceApi');
+
+      // @@@ Get voice config from node attrs (stored when widget created)
+      // Ensure it's an object (not string due to serialization)
+      let voiceConfig = node.attrs.voiceConfig;
+      if (typeof voiceConfig === 'string') {
+        try {
+          voiceConfig = JSON.parse(voiceConfig);
+        } catch (e) {
+          voiceConfig = { tagline: `${voiceName} voice from Disco Elysium` };
+        }
+      } else if (!voiceConfig || typeof voiceConfig !== 'object') {
+        voiceConfig = { tagline: `${voiceName} voice from Disco Elysium` };
+      }
+
+      // @@@ Extract writing area text (exclude voice quote widgets)
+      let writingAreaText = '';
+      if (editor) {
+        editor.state.doc.descendants((node: any) => {
+          // Skip voice quote nodes
+          if (node.type.name === 'voiceQuote') {
+            return false;
+          }
+          // Collect text from other nodes
+          if (node.isText) {
+            writingAreaText += node.text;
+          }
+          return true;
+        });
+      }
+
+      // Send entire conversation history + writing area text for context
+      const response = await chatWithVoice(
+        voiceName,
+        voiceConfig,
+        messages,
+        inputText,
+        writingAreaText
+      );
+
+      const assistantMessage: Message = {
+        role: 'assistant',
+        content: response,
+        timestamp: Date.now()
+      };
+      setMessages(prev => [...prev, assistantMessage]);
+    } catch (error) {
+      console.error('Chat error:', error);
+      const errorMessage: Message = {
+        role: 'assistant',
+        content: `Sorry, I couldn't respond. (${error})`,
+        timestamp: Date.now()
+      };
+      setMessages(prev => [...prev, errorMessage]);
+    } finally {
+      setIsLoading(false);
+    }
+  };
+
+  const handleKeyDown = (e: React.KeyboardEvent) => {
+    if (e.key === 'Enter' && !e.shiftKey) {
+      e.preventDefault();
+      handleSendMessage();
+    }
+  };
+
+  return (
+    <NodeViewWrapper className="voice-quote-widget">
+      <div
+        contentEditable={false}
+        onMouseEnter={() => setIsHovered(true)}
+        onMouseLeave={() => setIsHovered(false)}
+        style={{
+          background: 'linear-gradient(135deg, rgba(255, 248, 240, 0.95), rgba(255, 250, 245, 0.95))',
+          border: '1px solid #d0c4b0',
+          borderRadius: 12,
+          padding: '16px 20px',
+          margin: '16px 0',
+          fontFamily: 'Georgia, "Times New Roman", serif',
+          fontSize: 16,
+          lineHeight: 1.8,
+          position: 'relative',
+          cursor: 'default',
+          userSelect: 'none',
+          boxShadow: '0 2px 8px rgba(0, 0, 0, 0.05)',
+          transition: 'all 0.2s'
+        }}
+      >
+        {/* Delete button - only visible on hover */}
+        {isHovered && (
+          <button
+            onClick={deleteNode}
+            style={{
+              position: 'absolute',
+              top: 12,
+              right: 12,
+              width: 24,
+              height: 24,
+              borderRadius: 12,
+              border: '1px solid #d0c4b0',
+              background: '#fff',
+              cursor: 'pointer',
+              display: 'flex',
+              alignItems: 'center',
+              justifyContent: 'center',
+              fontSize: 16,
+              color: '#666',
+              padding: 0,
+              transition: 'all 0.2s',
+              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',
+              zIndex: 10
+            }}
+            onMouseEnter={e => {
+              e.currentTarget.style.background = '#f0e6d8';
+              e.currentTarget.style.color = '#c33';
+              e.currentTarget.style.borderColor = '#c33';
+            }}
+            onMouseLeave={e => {
+              e.currentTarget.style.background = '#fff';
+              e.currentTarget.style.color = '#666';
+              e.currentTarget.style.borderColor = '#d0c4b0';
+            }}
+            title="Delete quote"
+          >
+            √ó
+          </button>
+        )}
+
+        <div
+          style={{
+            fontWeight: 600,
+            color: '#2c2c2c',
+            marginBottom: 8,
+            fontSize: 15,
+            paddingRight: isHovered ? 32 : 0,
+            transition: 'padding-right 0.2s',
+            letterSpacing: '0.3px'
+          }}
+        >
+          {voiceName}
+        </div>
+
+        {/* Initial comment (always visible) */}
+        <div
+          style={{
+            color: '#444',
+            fontStyle: 'italic',
+            fontSize: 16
+          }}
+        >
+          "{comment}"
+        </div>
+
+        {timestamp && (
+          <div
+            style={{
+              fontSize: 12,
+              color: '#999',
+              marginTop: 8,
+              fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+            }}
+          >
+            {new Date(timestamp).toLocaleTimeString()}
+          </div>
+        )}
+
+        {/* Chat messages - appear naturally after initial comment */}
+        {messages.slice(1).map((msg, idx) => (
+          <div
+            key={idx}
+            style={{
+              marginTop: 16,
+              color: msg.role === 'user' ? '#555' : '#444',
+              fontSize: 15,
+              fontFamily: msg.role === 'user'
+                ? '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
+                : 'Georgia, "Times New Roman", serif',
+              fontStyle: msg.role === 'assistant' ? 'italic' : 'normal',
+              paddingLeft: msg.role === 'user' ? 20 : 0,
+              borderLeft: msg.role === 'user' ? '2px solid #d0c4b0' : 'none'
+            }}
+          >
+            {msg.role === 'user' && <span style={{ fontWeight: 500, color: '#888' }}>You: </span>}
+            {msg.content}
+          </div>
+        ))}
+
+        {isLoading && (
+          <div
+            style={{
+              marginTop: 16,
+              color: '#999',
+              fontSize: 15,
+              fontFamily: 'Georgia, "Times New Roman", serif',
+              fontStyle: 'italic'
+            }}
+          >
+            Thinking...
+          </div>
+        )}
+
+        {/* Input area */}
+        <div style={{ display: 'flex', gap: 8, marginTop: 16 }}>
+            <input
+              type="text"
+              value={inputText}
+              onChange={(e) => setInputText(e.target.value)}
+              onKeyDown={handleKeyDown}
+              placeholder="Reply..."
+              disabled={isLoading}
+              style={{
+                flex: 1,
+                padding: '8px 12px',
+                fontSize: 14,
+                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
+                background: 'transparent',
+                border: 'none',
+                borderBottom: '1px solid #d0c4b0',
+                borderRadius: 0,
+                outline: 'none',
+                color: '#2c2c2c'
+              }}
+            />
+            <button
+              onClick={handleSendMessage}
+              disabled={!inputText.trim() || isLoading}
+              style={{
+                padding: '6px 14px',
+                fontSize: 13,
+                fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',
+                background: 'transparent',
+                border: 'none',
+                borderRadius: 0,
+                cursor: inputText.trim() && !isLoading ? 'pointer' : 'not-allowed',
+                color: inputText.trim() && !isLoading ? '#4CAF50' : '#ccc',
+                fontWeight: 500,
+                transition: 'all 0.2s'
+              }}
+              onMouseEnter={e => {
+                if (inputText.trim() && !isLoading) {
+                  e.currentTarget.style.color = '#45a049';
+                }
+              }}
+              onMouseLeave={e => {
+                if (inputText.trim() && !isLoading) {
+                  e.currentTarget.style.color = '#4CAF50';
+                }
+              }}
+            >
+              ‚Üí
+            </button>
+        </div>
+      </div>
+    </NodeViewWrapper>
+  );
+}
+
+// @@@ Custom TipTap node for voice quotes - atomic and uneditable
+export const VoiceQuote = Node.create({
+  name: 'voiceQuote',
+
+  group: 'block',
+
+  atom: true, // Makes it atomic - can't edit inside, only delete whole thing
+
+  selectable: false, // Cannot be selected, prevents replacement when typing
+
+  draggable: false, // Disable drag to prevent accidental moves
+
+  addAttributes() {
+    return {
+      widgetId: {
+        default: '',
+      },
+      voiceName: {
+        default: '',
+      },
+      comment: {
+        default: '',
+      },
+      timestamp: {
+        default: null,
+      },
+      voiceConfig: {
+        default: {},
+      },
+    };
+  },
+
+  parseHTML() {
+    return [
+      {
+        tag: 'div[data-type="voice-quote"]',
+      },
+    ];
+  },
+
+  renderHTML({ node, HTMLAttributes }) {
+    // Render as a self-contained div with data attributes
+    return ['div', mergeAttributes(HTMLAttributes, {
+      'data-type': 'voice-quote',
+      'data-voice-name': node.attrs.voiceName,
+      'data-comment': node.attrs.comment,
+      'data-timestamp': node.attrs.timestamp
+    })];
+  },
+
+  addNodeView() {
+    return ReactNodeViewRenderer(VoiceQuoteView);
+  },
+});
+
+export default VoiceQuote;

*** ADDED: frontend/src/utils/documentStorage.ts (+75/-0) ***
@@ -0,0 +1,75 @@
+// @@@ Document storage wrapper - manages both TipTap content and chat conversations
+
+interface Message {
+  role: 'user' | 'assistant';
+  content: string;
+  timestamp: number;
+}
+
+interface StoredDocument {
+  document: any; // TipTap JSON
+  conversations: Record<string, Message[]>; // widgetId -> messages
+  lastModified: number;
+}
+
+export class DocumentStorage {
+  private storageKey: string;
+
+  constructor(storageKey: string = 'ink_and_memory_document') {
+    this.storageKey = storageKey;
+  }
+
+  // @@@ Save document + conversations
+  save(documentJSON: any, conversations: Record<string, Message[]>): void {
+    const stored: StoredDocument = {
+      document: documentJSON,
+      conversations,
+      lastModified: Date.now()
+    };
+    localStorage.setItem(this.storageKey, JSON.stringify(stored));
+  }
+
+  // @@@ Load document + conversations
+  load(): StoredDocument | null {
+    const stored = localStorage.getItem(this.storageKey);
+    if (!stored) return null;
+
+    try {
+      return JSON.parse(stored);
+    } catch (e) {
+      console.error('Failed to parse stored document:', e);
+      return null;
+    }
+  }
+
+  // @@@ Get conversation for a specific widget
+  getConversation(widgetId: string): Message[] {
+    const stored = this.load();
+    return stored?.conversations[widgetId] || [];
+  }
+
+  // @@@ Update conversation for a specific widget
+  updateConversation(widgetId: string, messages: Message[]): void {
+    let stored = this.load();
+
+    // @@@ Initialize if not exists
+    if (!stored) {
+      stored = {
+        document: null,
+        conversations: {},
+        lastModified: Date.now()
+      };
+    }
+
+    stored.conversations[widgetId] = messages;
+    stored.lastModified = Date.now();
+    localStorage.setItem(this.storageKey, JSON.stringify(stored));
+  }
+
+  // @@@ Clear all data
+  clear(): void {
+    localStorage.removeItem(this.storageKey);
+  }
+}
+
+export default DocumentStorage;
