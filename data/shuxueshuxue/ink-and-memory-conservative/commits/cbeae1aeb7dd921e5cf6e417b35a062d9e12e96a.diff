*** MODIFIED: frontend/src/App.tsx (+0/-12) ***
@@ -74,17 +74,6 @@ function App() {
     setVoiceTriggers(newTriggers);
   };
 
-  // Example usage (uncomment to test):
-  // setTimeout(() => {
-  //   addTrigger({
-  //     phrase: 'remember when',
-  //     voice: 'Nostalgia',
-  //     comment: 'The past always seems brighter from here...',
-  //     color: 'purple',
-  //     icon: 'cloud',
-  //   });
-  // }, 3000);
-
   // Expose methods to window for testing in console
   useEffect(() => {
     (window as any).voiceControls = {
@@ -94,7 +83,6 @@ function App() {
       setAllTriggers,
       getCurrentTriggers: () => voiceTriggers,
     };
-    console.log('Voice controls available! Try: window.voiceControls.addTrigger({...})');
   }, [voiceTriggers]);
 
   return (

*** MODIFIED: frontend/src/components/EditableTextArea.tsx (+2/-2) ***
@@ -21,8 +21,8 @@ export default function EditableTextArea({ onChange, triggers }: EditableTextAre
   // @@@ Dynamic trigger updates - Update highlights when triggers change
   useEffect(() => {
     if (editor && editor.isEditable) {
-      // Force recalculation by triggering a transaction with meta
-      const { tr } = editor.state;
+      // Force recalculation by creating a new transaction with meta
+      const tr = editor.state.tr;
       tr.setMeta('voiceHighlight', { triggers });
       editor.view.dispatch(tr);
     }

*** MODIFIED: frontend/src/extensions/VoiceHighlight.ts (+6/-6) ***
@@ -14,7 +14,6 @@ export interface VoiceHighlightOptions {
   triggers: VoiceTrigger[];
 }
 
-// Dynamic voice highlighting with real-time updates
 export const VoiceHighlight = Extension.create<VoiceHighlightOptions>({
   name: 'voiceHighlight',
 
@@ -40,16 +39,17 @@ export const VoiceHighlight = Extension.create<VoiceHighlightOptions>({
             // @@@ Dynamic updates - Recalculate on doc change or meta change
             const metaChanged = tr.getMeta('voiceHighlight');
             if (metaChanged?.triggers) {
-              triggers = metaChanged.triggers;
+              const newTriggers = metaChanged.triggers;
               return {
-                decorations: findHighlights(tr.doc, triggers),
-                triggers
+                decorations: findHighlights(tr.doc, newTriggers),
+                triggers: newTriggers
               };
             }
             if (tr.docChanged) {
+              const currentTriggers = oldState.triggers || triggers;
               return {
-                decorations: findHighlights(tr.doc, oldState.triggers || triggers),
-                triggers: oldState.triggers || triggers
+                decorations: findHighlights(tr.doc, currentTriggers),
+                triggers: currentTriggers
               };
             }
             return oldState;
