
## 目录说明

本目录用来编写功能开发的 agent task 

## 设计

1. 每个开发任务一个子目录，命名规范 task_{no}_{feat_name}，例如： agent_dev/task_01_scan_plugin
  * {no} 表示任务编号
  * {feat_name} 表示任务名字
2. 每个开发任务子目录规格：
  * task.md 
    * 其中包含2部分：
      * 闭环描述
        * 永远只维护最新版本
      * TODO_LIST
        * 永远只维护最新版本，过期的，不再合适的应该剔除重构
  * 关于任务闭环描述
    * 怎样算【闭环描述】？一个闭环描述包含了整个开发任务变动的【目标资源】的完整【生命周期】。
    * 怎样算【目标资源】？任何一个开发实际上都是在管理软件中的一类资源：
      * 有些资源是传统意义上的 solid 的资源，例如数据库CURD。
      * 有些资源是非传统意义上的，例如一个性能诊断任务，此时【性能profile】就是一种资源。
      * 有些资源是一次构架调整，那么构架调整就是一个目标资源。
    * 怎样算一个资源的【生命周期】? 一个生命周期通常意味着这个资源的某种意义上的【增/删/查/改】
      * 例如，要在系统的哪些模块添加相关的代码产生相关的数据或者行为。
      * 例如，要在系统的哪些模块添加相关的代码消费这些数据或者行为的后果。
      * 例如，要在系统的哪些模块查询这些数据的变动或者行为的后果。
      * 例如，要在系统的哪些地方删除/关闭/完成这些数据或者行为的状态机。
  * 关于TODO_LIST
    * 本质上是这个任务的状态机
      * 由于一个任务在开始前的状态，经过一系列开发后，任务的前置条件在代码仓库里已经不存在，因此，在重构完成后，这些前置的假设已经不再需要保留
      * 所以应该在任务完成后，删除已经完成的TODO_LIST，只留一条完成任务的记录+更新日期即可，不必保留历史已经完成的TODO
3. LLM在完成 task.md 的过程中
  * 如果有需要产生任务相关的中间文档（如果没必要就不要创建），请在任务目录下创建任务的 task_records/log 子目录存放，这样的目录不会被提交到 git 仓库
  * 例如 agent_dev/task_01_scan_plugin/task_records
  * task_records/log 的数据永远可以删除，在 TODO_LIST 完成清空的时候，也要同步清空task_records/log这个目录下的文件，但是保留空目录

# 实施

1. 分析当前代码和目标任务，对目标任务做必要的设计修订，保证最新，如无需修订则不做处理
2. 根据 task 对 TODO_LIST 做状态更新，做必要的拆分和修订，保证最新，如无需修订则不做处理
3. 一步步实施 TODO，每个都经过用户确认更新状态